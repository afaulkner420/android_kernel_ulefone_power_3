/*
 * Copyright (C) 2016 MediaTek Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See http://www.gnu.org/licenses/gpl-2.0.html for more details.
 */

#include <linux/init.h>
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/spinlock.h>
#include <linux/delay.h>
#include <linux/of_fdt.h>
#include <mt-plat/mtk_secure_api.h>

#ifdef CONFIG_OF
#include <linux/of.h>
#include <linux/of_irq.h>
#include <linux/of_address.h>
#endif

#include <mt-plat/upmu_common.h>
#include <mt-plat/mtk_chip.h>

#include <mtk_spm_misc.h>
#include <mtk_spm_vcore_dvfs.h>
#include <mtk_spm_internal.h>
#include <mtk_spm_pmic_wrap.h>
#include <mtk_eem.h>
#include <ext_wd_drv.h>

#ifdef CONFIG_MTK_SMI_EXT
#include <mmdvfs_mgr.h>
#endif

#define is_dvfs_in_progress(r)    (r >> 12 & 0x1)
#define get_dvfs_level(r)         (r >> 16 & 0xF)

static inline int  _wait_spm_dvfs_idle(int timeout)
{
	int i = 0;
	u32 val = spm_read(SPM_SW_RSV_5);

	while (is_dvfs_in_progress(val)) {
		if (i >= timeout) {
			i = -EBUSY;
			break;
		}
		udelay(1);
		val = spm_read(SPM_SW_RSV_5);
		i++;
	}
	return i;
}

static inline int _wait_spm_dvfs_complete_fix(int opp, int timeout)
{
	int i = 0;
	u32 val;
	u32 dvfs_level[SPM_NUM_OPP] = { 0x8, 0x4, 0x2, 0x1};

	/* wait 10 usec before check status */
	udelay(SPM_CHK_GUARD_TIME);

	val = spm_read(SPM_SW_RSV_5);

	while (1) {
		if (!is_dvfs_in_progress(val) &&
			get_dvfs_level(val) == dvfs_level[opp])
		break;

		if (i >= timeout) {
			i = -EBUSY;
			break;
		}
		udelay(1);
		val = spm_read(SPM_SW_RSV_5);
		i++;
	}
	return i;
}

static inline int _wait_spm_dvfs_complete_floor(int opp, int timeout)
{
	int i = 0;
	u32 val;
	u32 dvfs_level[SPM_NUM_OPP] = { 0x8, 0x4, 0x2, 0x1};

	/* wait 10 usec before check status */
	udelay(SPM_CHK_GUARD_TIME);

	val = spm_read(SPM_SW_RSV_5);

	while (1) {
		if (!is_dvfs_in_progress(val) &&
			get_dvfs_level(val) >= dvfs_level[opp])
		break;

		if (i >= timeout) {
			i = -EBUSY;
			break;
		}
		udelay(1);
		val = spm_read(SPM_SW_RSV_5);
		i++;
	}
	return i;
}
/*
 * only for internal debug
 */
#define SPM_VCOREFS_TAG	"[VcoreFS] "
#define spm_vcorefs_err spm_vcorefs_info
#define spm_vcorefs_warn spm_vcorefs_info
#define spm_vcorefs_debug spm_vcorefs_info
#define spm_vcorefs_info(fmt, args...)	pr_notice(SPM_VCOREFS_TAG fmt, ##args)

/* write spm reg in kernel driver */
/* #define SPM_CONFIG_BY_KERNEL */

enum spm_vcorefs_step {
	SPM_VCOREFS_ENTER = 0x00000001,
	SPM_VCOREFS_DVFS_START = 0x000000ff,
	SPM_VCOREFS_DVFS_END = 0x000001ff,
	SPM_VCOREFS_LEAVE = 0x000007ff,
};

/* TODO: 6758 EP */
__weak int get_ddr_type(void)
{
	return 0;
}

void __iomem *vcorefs_cksys_base;
static int emi_bw_ctrl[BW_NUM];
static int ddr_type;

static inline void spm_vcorefs_footprint(enum spm_vcorefs_step step)
{
#ifdef CONFIG_MTK_RAM_CONSOLE
	aee_rr_rec_vcore_dvfs_status(step);
#endif
}

#ifdef CONFIG_FPGA_EARLY_PORTING
static const u32 all_in_one_binary[] = {
	0x814a1801, 0xd8000305, 0x17c07c1f, 0xa1d58407, 0xa1d70407, 0x81f68407,
	0x80358400, 0x1b80001f, 0x20000000, 0x80300400, 0xa1d28407, 0x81f20407,
	0x81f88407, 0x1950001f, 0x10a00624, 0x81401401, 0xd8000305, 0x17c07c1f,
	0x18d0001f, 0x10a00394, 0x1900001f, 0x10a00394, 0xa0d20403, 0xe1000003,
	0x810a1801, 0x81479801, 0x81601404, 0xd8200445, 0x17c07c1f, 0x1a00001f,
	0x10a00400, 0xe2200004, 0xc0c07ae0, 0x17c07c1f, 0x814a1801, 0xd8000845,
	0x17c07c1f, 0xc0c07c80, 0x17c07c1f, 0x808a3401, 0xd80004e2, 0x17c07c1f,
	0xc0c06be0, 0x17c07c1f, 0xe080000f, 0xd8000603, 0x17c07c1f, 0xe080001f,
	0xc0c07e60, 0x11407c1f, 0xc0c07fc0, 0x11407c1f, 0xa1dd0407, 0x17c07c1f,
	0x81f00407, 0x808a3401, 0xd80006e2, 0x17c07c1f, 0x1b80001f, 0x20000514,
	0x18d0001f, 0x10a00164, 0x80eb0c01, 0xca806e03, 0x129d0c1f, 0x81fd0407,
	0x1890001f, 0x10a00624, 0x80828801, 0xd8000b62, 0x17c07c1f, 0x1890001f,
	0x10a00478, 0x18d0001f, 0x10a0061c, 0x81040c01, 0xd8200b64, 0x17c07c1f,
	0x81018801, 0xd8000ac4, 0x17c07c1f, 0xe220000a, 0xc0c07ae0, 0x17c07c1f,
	0xd0000b60, 0x17c07c1f, 0xe220000b, 0xc0c07ae0, 0x17c07c1f, 0x1b80001f,
	0x2000049c, 0x80328400, 0x81431801, 0xd8000c05, 0x17c07c1f, 0x80318400,
	0xc2806e00, 0x1290041f, 0xa19d8406, 0xa1dc0407, 0x1b00001f, 0x00000006,
	0xf0000000, 0x17c07c1f, 0x81fc0407, 0x1b00001f, 0xffffffff, 0x1b80001f,
	0x20000004, 0x81fc8407, 0x88c0000c, 0xffffffff, 0xd8200ec3, 0x17c07c1f,
	0xa1dc0407, 0x13007c1f, 0xd0001d60, 0x17c07c1f, 0xa1dc0407, 0x1b10001f,
	0x10a00148, 0x1b80001f, 0x20000004, 0xa1dc8407, 0x80d0840c, 0xd8001063,
	0x17c07c1f, 0x1b10001f, 0x10a00148, 0xd0001d60, 0x17c07c1f, 0xa0128400,
	0x814a1801, 0xd8001545, 0x17c07c1f, 0x1b80001f, 0x20000666, 0xc0c06be0,
	0x17c07c1f, 0xe080000f, 0xd82012a3, 0x17c07c1f, 0x81f00407, 0xa1dc0407,
	0x1b00001f, 0x00000006, 0xa0328400, 0xd0001d60, 0x17c07c1f, 0xe080001f,
	0xc0c07c80, 0x17c07c1f, 0xc0c07e60, 0x1140041f, 0xc0c07fc0, 0x1140041f,
	0x80ca9801, 0xd8201523, 0x17c07c1f, 0x1900001f, 0x100100f4, 0xe100001f,
	0x18c0001f, 0x10010024, 0xe0c0001f, 0xe0e00005, 0x18b00003, 0x17c07c1f,
	0xe1000001, 0x81f00407, 0x1890001f, 0x10a00624, 0x80828801, 0xd8001762,
	0x17c07c1f, 0x18d0001f, 0x10a0061c, 0x81040c01, 0xd8201764, 0x17c07c1f,
	0x1a00001f, 0x10a00400, 0xe2200007, 0xc0c07ae0, 0x17c07c1f, 0x1b80001f,
	0x2000049c, 0x81431801, 0xd80017e5, 0x17c07c1f, 0xa0118400, 0x81bd8406,
	0xa1dc0407, 0x1b00001f, 0x00000001, 0xc2806e00, 0x1290841f, 0x814a1801,
	0xd8201a05, 0x17c07c1f, 0x81479801, 0xd8001a05, 0x17c07c1f, 0x1a00001f,
	0x10a00400, 0xe2200005, 0xc0c07ae0, 0x17c07c1f, 0x814a1801, 0xd8001d65,
	0x17c07c1f, 0x1950001f, 0x10a00624, 0x81401401, 0xd8001bc5, 0x17c07c1f,
	0x18d0001f, 0x10a00394, 0x1900001f, 0x10a00394, 0x80f20403, 0xe1000003,
	0xa1d88407, 0x1b80001f, 0x2000001a, 0xa1d20407, 0x81f28407, 0xa1d68407,
	0x81479801, 0xd8001d65, 0x17c07c1f, 0xa0100400, 0xa0158400, 0x81f70407,
	0x81f58407, 0xf0000000, 0x17c07c1f, 0x81409801, 0xd8002065, 0x17c07c1f,
	0x18c0001f, 0x10a00328, 0xc0c06160, 0x1200041f, 0xe8208000, 0x10a00408,
	0xc0000bf0, 0xe8208000, 0x10a0040c, 0x12af0000, 0xe8208000, 0x10a00414,
	0x033d5153, 0x18c0001f, 0x10a001ec, 0x1910001f, 0x10a001ec, 0xa1100404,
	0xe0c00004, 0x81481801, 0xd80021c5, 0x17c07c1f, 0x18c0001f, 0x10a00370,
	0xc0c05f20, 0x17c07c1f, 0x18c0001f, 0x10a00374, 0xc0c05f20, 0x17c07c1f,
	0x81469801, 0xd8002365, 0x17c07c1f, 0x80350400, 0x1b80001f, 0x2000001a,
	0x80378400, 0x1b80001f, 0x20000208, 0x80338400, 0x1b80001f, 0x2000001a,
	0x81f98407, 0xc2806e00, 0x1291041f, 0xa19e0406, 0xa1dc0407, 0x1b00001f,
	0x00000058, 0xf0000000, 0x17c07c1f, 0x81481801, 0xd8002545, 0x17c07c1f,
	0x18c0001f, 0x10a00370, 0xc0c05e60, 0x17c07c1f, 0x81469801, 0xd8002625,
	0x17c07c1f, 0xa1d98407, 0xa0138400, 0xa0178400, 0xa0150400, 0x81409801,
	0xd80028e5, 0x17c07c1f, 0x18c0001f, 0x10a001ec, 0x1910001f, 0x10a001ec,
	0x81300404, 0xe0c00004, 0xe8208000, 0x10a00408, 0xfffbbfff, 0xe8208000,
	0x10a0040c, 0xffffffff, 0xe8208000, 0x10a00414, 0xffffffff, 0x18c0001f,
	0x10a00328, 0xc0c065c0, 0x17c07c1f, 0xc2806e00, 0x1291841f, 0x81be0406,
	0xa1dc0407, 0x1b00001f, 0x00000006, 0xf0000000, 0x17c07c1f, 0x81411801,
	0xd8002de5, 0x17c07c1f, 0xe8208000, 0x10a0031c, 0x00000f16, 0xe8208000,
	0x10a0031c, 0x00000f1e, 0xe8208000, 0x10a0031c, 0x00000f0e, 0x1b80001f,
	0x2000001b, 0xe8208000, 0x10a0031c, 0x00000f0c, 0xe8208000, 0x10a0031c,
	0x00000f0d, 0xe8208000, 0x10a0031c, 0x00000e0d, 0xe8208000, 0x10a0031c,
	0x00000c0d, 0xe8208000, 0x10a0031c, 0x0000080d, 0xe8208000, 0x10a0031c,
	0x0000000d, 0xc0808820, 0x17c07c1f, 0xc08091a0, 0x17c07c1f, 0x1880001f,
	0x102101b0, 0x18d0001f, 0x102101b0, 0xa8c00003, 0x00000100, 0xe0800003,
	0x1880001f, 0x10210100, 0x18d0001f, 0x10210100, 0xa8c00003, 0x00000100,
	0xe0800003, 0x1b80001f, 0x20000208, 0x1890001f, 0x10230000, 0x1890001f,
	0x10335000, 0x1890001f, 0x1033d000, 0xc0809820, 0x17c07c1f, 0x1880001f,
	0x10290304, 0x18d0001f, 0x10290304, 0x80f40403, 0xe0800003, 0x18f00002,
	0x17c07c1f, 0x814a9801, 0xd8003365, 0x17c07c1f, 0xe8208000, 0x10a00408,
	0xc0000bf0, 0xd0003420, 0x17c07c1f, 0xe8208000, 0x10a00408, 0xc00008f0,
	0xe8208000, 0x10a00414, 0x033d5150, 0xe8208000, 0x10a0040c, 0x00000000,
	0xc080b580, 0x17c07c1f, 0xd80034c2, 0x17c07c1f, 0xa1d80407, 0x1251041f,
	0x1900001f, 0x10a00648, 0xe1000009, 0xc2806e00, 0x1292041f, 0xa19e8406,
	0xc0807b60, 0x17c07c1f, 0x80cf1801, 0xa1dc0407, 0xd8003743, 0x17c07c1f,
	0xab000002, 0x00010060, 0xd0003780, 0x17c07c1f, 0xab000002, 0x000100a0,
	0xc0c081c0, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x808a9801, 0xd8203982,
	0x17c07c1f, 0xc0c081c0, 0x17c07c1f, 0xd8003983, 0x17c07c1f, 0xa1dc0407,
	0x1b10001f, 0x10a00148, 0xd0004700, 0x17c07c1f, 0x1890001f, 0x10a00318,
	0x80808801, 0xd8003a62, 0x17c07c1f, 0x1b80001f, 0x20000fdf, 0xe8208000,
	0x10a00408, 0xc0000bf0, 0xe8208000, 0x10a0040c, 0x12af0000, 0x1b80001f,
	0x2000001a, 0x81f80407, 0x80cf9801, 0xc8e091a3, 0x17c07c1f, 0x1880001f,
	0x10290304, 0x18d0001f, 0x10290304, 0xa0d40403, 0xe0800003, 0x18f00002,
	0x17c07c1f, 0x1890001f, 0x10a00180, 0x80c40801, 0xd8203ce3, 0x17c07c1f,
	0xc0c06780, 0x17c07c1f, 0xe080001f, 0xd8204043, 0x17c07c1f, 0xa1d80407,
	0x814a9801, 0xd8003f45, 0x17c07c1f, 0xe8208000, 0x10a00408, 0xc0000bf0,
	0xd0003fa0, 0x17c07c1f, 0xe8208000, 0x10a00408, 0xc00008f0, 0xe8208000,
	0x10a0040c, 0x00000000, 0xd0004700, 0x17c07c1f, 0xe080001f, 0x1880001f,
	0x102101b0, 0x18d0001f, 0x102101b0, 0x88c00003, 0xfffff8ff, 0xe0800003,
	0x1880001f, 0x10210100, 0x18d0001f, 0x10210100, 0x88c00003, 0xfffffcff,
	0xe0800003, 0xc0808560, 0x17c07c1f, 0xc08086c0, 0x17c07c1f, 0x81011801,
	0xd8004484, 0x17c07c1f, 0xe8208000, 0x10a0031c, 0x00000f0d, 0xe8208000,
	0x10a0031c, 0x00000f0f, 0xe8208000, 0x10a0031c, 0x00000f1e, 0xe8208000,
	0x10a0031c, 0x00000f12, 0x1251041f, 0x1900001f, 0x10a00644, 0xe1000009,
	0xc2806e00, 0x1292841f, 0x81be8406, 0xa19f8406, 0x80cf1801, 0xa1dc0407,
	0xd8004683, 0x17c07c1f, 0x1b00001f, 0x00000058, 0xd00046c0, 0x17c07c1f,
	0x1b00001f, 0x00000090, 0xc0c081c0, 0x17c07c1f, 0xf0000000, 0x17c07c1f,
	0x816f9801, 0x814e9805, 0xd8204825, 0x17c07c1f, 0xc0c091a0, 0x17c07c1f,
	0xa19f8406, 0x808a9801, 0xd82048c2, 0x17c07c1f, 0xc0c07420, 0x17c07c1f,
	0x18c0001f, 0x10a00384, 0xe0e00011, 0xe0e00031, 0xe0e00071, 0xe0e000f1,
	0xe0e001f1, 0xe0e003f1, 0xe0e007f1, 0xe0e00ff1, 0xe0e01ff1, 0xe0e03ff1,
	0xe0e07ff1, 0xe0f07ff1, 0x1b80001f, 0x20000020, 0xe0f07ff3, 0xe0f07ff2,
	0xc2806e00, 0x1293041f, 0xa19f0406, 0xa1dc0407, 0x80ce9801, 0xd8004c63,
	0x17c07c1f, 0x1b00001f, 0x00000090, 0xd0004ce0, 0x17c07c1f, 0xc0807b60,
	0x17c07c1f, 0xab000002, 0x000100a0, 0xc0c081c0, 0x17c07c1f, 0xf0000000,
	0x17c07c1f, 0x816f9801, 0x814e9805, 0xd8204e45, 0x17c07c1f, 0xc0c091a0,
	0x17c07c1f, 0xa19f8406, 0x18c0001f, 0x10a00384, 0xe0f07ff3, 0xe0f07ff1,
	0xe0e00ff1, 0xe0e000f1, 0xe0e00001, 0x808a9801, 0xc8c06f02, 0x17c07c1f,
	0xc2806e00, 0x1293841f, 0x81bf0406, 0x80ce9801, 0xa1dc0407, 0xd80050e3,
	0x17c07c1f, 0x1b00001f, 0x00000058, 0xd00051a0, 0x17c07c1f, 0xc0c081c0,
	0x17c07c1f, 0xc0807b60, 0x17c07c1f, 0xab000002, 0x00010060, 0xf0000000,
	0x17c07c1f, 0xc0c091a0, 0x17c07c1f, 0xc2806e00, 0x1294041f, 0xa19f8406,
	0xc0807b60, 0x17c07c1f, 0x80cf1801, 0xa1dc0407, 0xd80053c3, 0x17c07c1f,
	0xab000002, 0x00010060, 0xd0005860, 0x17c07c1f, 0xab000002, 0x000100a0,
	0xa1dc0407, 0xa3002402, 0x1890001f, 0x10a00624, 0x80810801, 0xd80056c2,
	0x17c07c1f, 0x1880001f, 0x0000000f, 0x18d0001f, 0x10a00160, 0x80840c02,
	0x18d0001f, 0x10a00478, 0x80a00c02, 0xd82056c2, 0x17c07c1f, 0xa1dc0407,
	0x1890001f, 0x10a00148, 0x80b80402, 0x1300081f, 0x81fc8407, 0xd82057ec,
	0x17c07c1f, 0xa1dc0407, 0x13007c1f, 0x81fc8407, 0xe8208000, 0x10a0009c,
	0x00000001, 0xc080b580, 0x17c07c1f, 0xd8005822, 0x17c07c1f, 0xf0000000,
	0x17c07c1f, 0xc0c06780, 0x17c07c1f, 0xe080001f, 0xd82059a3, 0x17c07c1f,
	0xe080001f, 0xd0005e20, 0x17c07c1f, 0x1a50001f, 0x10a00160, 0x8247a401,
	0xd8205aa9, 0x17c07c1f, 0x81f08407, 0xd0005c60, 0x17c07c1f, 0xc0808560,
	0x17c07c1f, 0x1a50001f, 0x10a00160, 0x8247a401, 0xd8205c09, 0x17c07c1f,
	0xc0c091a0, 0x17c07c1f, 0xd0005c60, 0x17c07c1f, 0xc2806e00, 0x1294841f,
	0x81bf8406, 0xc0807b60, 0x17c07c1f, 0x1950001f, 0x10a00148, 0x808f9801,
	0x80e00801, 0x81780405, 0x81778405, 0xa1580805, 0xa1dc0407, 0xa3178c05,
	0x17c07c1f, 0xc0c081c0, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0xe0f07ff3,
	0xe0f07ff1, 0xe0e000f1, 0xe0e00001, 0xf0000000, 0x17c07c1f, 0xe0e00011,
	0xe0e00031, 0xe0e00071, 0xe0e000f1, 0xe0e001f1, 0xe0e003f1, 0xe0e007f1,
	0xe0e00ff1, 0xe0e01ff1, 0xe0e03ff1, 0xe0e07ff1, 0xe0f07ff1, 0x1b80001f,
	0x20000020, 0xe0f07ff3, 0xe0f07ff2, 0xf0000000, 0x17c07c1f, 0xe0f07f16,
	0x1380201f, 0xe0f07f1e, 0x1380201f, 0xe0f07f0e, 0xe0f07f0c, 0x1900001f,
	0x10a00378, 0xe120003e, 0xe120003c, 0xe1200038, 0xe1200030, 0xe1200020,
	0xe1200000, 0x1b80001f, 0x20000104, 0x1900001f, 0x10a0039c, 0x1940001f,
	0x0400ffc0, 0xe1000005, 0x1940001f, 0x0000ffc0, 0xe1000005, 0x1b80001f,
	0x2000000e, 0xe0f07f0d, 0xe0f07e0d, 0xe0f07c0d, 0xe0f0780d, 0xe0f0700d,
	0x1b80001f, 0x2000000e, 0xf0000000, 0x17c07c1f, 0x1900001f, 0x10a00378,
	0xe120003f, 0x1900001f, 0x10a0039c, 0x1880001f, 0x0c00ffc0, 0xe1000002,
	0xe0f07f0d, 0xe0f07f0f, 0xe0f07f1e, 0xe0f07f12, 0xf0000000, 0x17c07c1f,
	0xe8208000, 0x10a000e0, 0x00000002, 0xe8208000, 0x10a000e4, 0x00000077,
	0xa1d08407, 0xe8208000, 0x10a000e0, 0x00000001, 0x810ab401, 0x80cb3401,
	0xd8006a64, 0x17c07c1f, 0xd82068c3, 0x17c07c1f, 0xa1dc0407, 0x13007c1f,
	0x81fc0407, 0x81f08407, 0xe8208000, 0x10a0009c, 0x00000001, 0xe8208000,
	0x10a000e0, 0x00000000, 0x1880001f, 0x10a00028, 0xf0000000, 0x17c07c1f,
	0xa1d10407, 0x1b80001f, 0x20000020, 0xf0000000, 0x17c07c1f, 0xe8208000,
	0x10a000e0, 0x00000002, 0xe8208000, 0x10a000e4, 0x00000a28, 0xa1d00407,
	0x1b80001f, 0x20000a50, 0x10c07c1f, 0xe8208000, 0x10a000e0, 0x00000000,
	0x1880001f, 0x10a00028, 0xf0000000, 0x17c07c1f, 0x18c0001f, 0x10a00604,
	0x1910001f, 0x10a00604, 0xa1002804, 0xe0c00004, 0xf0000000, 0x17c07c1f,
	0xa1d40407, 0x1391841f, 0x1880001f, 0x10000070, 0x18d0001f, 0x10000070,
	0xa0da8403, 0x88c00003, 0xfffffffc, 0xe0800003, 0x1880001f, 0x100000d4,
	0x18d0001f, 0x100000d4, 0x88c00003, 0xfffffffc, 0xe0800003, 0x1880001f,
	0x100000d0, 0x18d0001f, 0x100000d0, 0x88c00003, 0xfffffffc, 0xe0800003,
	0x1880001f, 0x11010210, 0x18d0001f, 0x11010210, 0x88c00003, 0xffff3ffc,
	0xe0800003, 0x1880001f, 0x11010214, 0x18d0001f, 0x11010214, 0x88c00003,
	0xffff3ffc, 0xe0800003, 0xa1d90407, 0xf0000000, 0x17c07c1f, 0x1880001f,
	0x10000070, 0x18d0001f, 0x10000070, 0xa0d00403, 0xe0800003, 0x1880001f,
	0x100000d4, 0x18d0001f, 0x100000d4, 0xa0d00403, 0xe0800003, 0x1880001f,
	0x100000d0, 0x18d0001f, 0x100000d0, 0xa0d00403, 0xe0800003, 0x1880001f,
	0x11010210, 0x18d0001f, 0x11010210, 0xa0d00403, 0xa0d70403, 0xe0800003,
	0x1880001f, 0x11010214, 0x18d0001f, 0x11010214, 0xa0d00403, 0xa0d78403,
	0xe0800003, 0x81f90407, 0x81f40407, 0xf0000000, 0x17c07c1f, 0xe8208000,
	0x10a000e4, 0x00002134, 0x1880001f, 0x10a000e0, 0x18c0001f, 0x80000002,
	0xe0800003, 0x18c0001f, 0x80000001, 0xe0800003, 0xf0000000, 0x17c07c1f,
	0x1880001f, 0x10a000e0, 0xe080001f, 0xf0000000, 0x17c07c1f, 0x1b80001f,
	0x20000300, 0xf0000000, 0x17c07c1f, 0x1890001f, 0x10a00478, 0x18c0001f,
	0x0000000f, 0x80800c02, 0x90a00c02, 0x1094081f, 0xf0000000, 0x17c07c1f,
	0x1880001f, 0x10a00458, 0x18d0001f, 0x10a00458, 0x81000c01, 0xd8007e24,
	0x17c07c1f, 0xa0d00403, 0xe0800003, 0x1b80001f, 0x20000104, 0xa0d10403,
	0xe0800003, 0xf0000000, 0x17c07c1f, 0x1880001f, 0x10a00458, 0x18d0001f,
	0x10a00458, 0x80f18403, 0xa0d19403, 0xe0800003, 0x1b80001f, 0x2000001a,
	0xf0000000, 0x17c07c1f, 0x808a9801, 0x80c61801, 0x81001403, 0xa1401002,
	0xd8008185, 0x17c07c1f, 0x1880001f, 0x10a00458, 0x18d0001f, 0x10a00458,
	0x80f10403, 0xe0800003, 0x80f00403, 0xe0800003, 0xf0000000, 0x17c07c1f,
	0x10c07c1f, 0x808a9801, 0xd8208422, 0x17c07c1f, 0x1900001f, 0x10a20e3c,
	0xe1000001, 0x1910001f, 0x10a20e2c, 0x1880001f, 0x000009ce, 0x60e21002,
	0xd8208423, 0x17c07c1f, 0x80c01001, 0xa1df0c07, 0x80e00c01, 0x81ff0c07,
	0x80c09001, 0x808b9801, 0xa0c00803, 0xa1de8c07, 0x80e00c01, 0x81fe8c07,
	0x1900001f, 0x10a20e3c, 0xe100001f, 0xf0000000, 0x17c07c1f, 0xa1da0407,
	0xa1dd8407, 0xa0188400, 0xa0190400, 0xa0110400, 0x80398400, 0x803a0400,
	0x803a8400, 0x803b0400, 0xf0000000, 0x17c07c1f, 0x80cc1801, 0xd8208783,
	0x17c07c1f, 0x803e8400, 0xd00087a0, 0x17c07c1f, 0x803e0400, 0xa0168400,
	0xa0140400, 0xf0000000, 0x17c07c1f, 0x80340400, 0x80368400, 0x1b80001f,
	0x20000209, 0xa0180400, 0x10d0041f, 0x1250841f, 0x1890001f, 0x10a0049c,
	0xa0800c02, 0x1900001f, 0x10a0049c, 0xe1000002, 0x1890001f, 0x10a0049c,
	0xa0802402, 0x1900001f, 0x10a0049c, 0xe1000002, 0x1b80001f, 0x20000003,
	0x10d1041f, 0x1251841f, 0x1890001f, 0x10a0049c, 0xa0800c02, 0x1900001f,
	0x10a0049c, 0xe1000002, 0x1890001f, 0x10a0049c, 0xa0802402, 0x1900001f,
	0x10a0049c, 0xe1000002, 0x1b80001f, 0x20000003, 0x1890001f, 0x10a0049c,
	0x80a00c02, 0x1900001f, 0x10a0049c, 0xe1000002, 0x1890001f, 0x10a0049c,
	0x80a02402, 0x1900001f, 0x10a0049c, 0xe1000002, 0x1b80001f, 0x20000006,
	0x10d0041f, 0x1250841f, 0x1890001f, 0x10a0049c, 0x80a00c02, 0x1900001f,
	0x10a0049c, 0xe1000002, 0x1890001f, 0x10a0049c, 0x80a02402, 0x1900001f,
	0x10a0049c, 0xe1000002, 0x80cc1801, 0xd8209103, 0x17c07c1f, 0xa01e8400,
	0xd0009120, 0x17c07c1f, 0xa01e0400, 0x1b80001f, 0x20000209, 0xf0000000,
	0x17c07c1f, 0xa01b0400, 0xa01a8400, 0xa01c0400, 0xa01a0400, 0x1b80001f,
	0x20000013, 0xa0198400, 0x1b80001f, 0x20000018, 0x80388400, 0x80310400,
	0x803c0400, 0x1b80001f, 0x20000004, 0x80390400, 0x81fa0407, 0x81fd8407,
	0x81f08407, 0x808ab401, 0xd80093e2, 0x17c07c1f, 0x80380400, 0x10d2041f,
	0x1252841f, 0x1890001f, 0x10a0049c, 0xa0800c02, 0x1900001f, 0x10a0049c,
	0xe1000002, 0x1890001f, 0x10a0049c, 0xa0802402, 0x1900001f, 0x10a0049c,
	0xe1000002, 0x1b80001f, 0x20000003, 0x1890001f, 0x10a0049c, 0x80a00c02,
	0x1900001f, 0x10a0049c, 0xe1000002, 0x1890001f, 0x10a0049c, 0x80a02402,
	0x1900001f, 0x10a0049c, 0xe1000002, 0xf0000000, 0x17c07c1f, 0x1890001f,
	0x10332064, 0xa8800002, 0x00000020, 0x1900001f, 0x10332064, 0xe1000002,
	0x1890001f, 0x1033205c, 0x88c00002, 0xf3e000ff, 0xa8800003, 0x00000400,
	0x1900001f, 0x1033205c, 0xe1000002, 0x1890001f, 0x10332060, 0xa8800002,
	0x00000002, 0x1900001f, 0x10332060, 0xe1000002, 0x10c07c1f, 0x1890001f,
	0x10334088, 0x88c00002, 0x00000002, 0xd8209b23, 0x17c07c1f, 0x1890001f,
	0x10332060, 0x88800002, 0xfffffffd, 0x1900001f, 0x10332060, 0xe1000002,
	0x1890001f, 0x10332064, 0x88800002, 0xffffffdf, 0x1900001f, 0x10332064,
	0xe1000002, 0x1890001f, 0x1033a064, 0xa8800002, 0x00000020, 0x1900001f,
	0x1033a064, 0xe1000002, 0x1890001f, 0x1033a05c, 0x88c00002, 0xf3e000ff,
	0xa8800003, 0x00000400, 0x1900001f, 0x1033a05c, 0xe1000002, 0x1890001f,
	0x1033a060, 0xa8800002, 0x00000002, 0x1900001f, 0x1033a060, 0xe1000002,
	0x10c07c1f, 0x1890001f, 0x1033c088, 0x88c00002, 0x00000002, 0xd820a0a3,
	0x17c07c1f, 0x1890001f, 0x1033a060, 0x88800002, 0xfffffffd, 0x1900001f,
	0x1033a060, 0xe1000002, 0x1890001f, 0x1033a064, 0x88800002, 0xffffffdf,
	0x1900001f, 0x1033a064, 0xe1000002, 0x1890001f, 0x10000220, 0xf0000000,
	0x17c07c1f, 0x1910001f, 0x1033222c, 0x89000004, 0x7fffffff, 0x1940001f,
	0x1033222c, 0xe1400004, 0x1910001f, 0x1033a04c, 0x89000004, 0xfffffffb,
	0x1940001f, 0x1033a04c, 0xe1400004, 0x18d0001f, 0x1033a04c, 0xf0000000,
	0x17c07c1f, 0x1910001f, 0x103320e4, 0x10c0901f, 0x88c00003, 0x00000003,
	0xd800a8e3, 0x17c07c1f, 0x1910001f, 0x1033222c, 0x1940001f, 0x00000001,
	0xa11f9404, 0x1940001f, 0x1033222c, 0xe1400004, 0x1910001f, 0x1033a04c,
	0xa9000004, 0x00000004, 0x1940001f, 0x1033a04c, 0xe1400004, 0x18d0001f,
	0x1033a04c, 0xf0000000, 0x17c07c1f, 0x1910001f, 0x103320e4, 0x10c0901f,
	0x88c00003, 0x00000003, 0x11000c1f, 0xd800b544, 0x17c07c1f, 0x1950001f,
	0x10332864, 0x89400005, 0xf00fffff, 0x1a00001f, 0x10332864, 0xe2000005,
	0x18d0001f, 0x10334468, 0x1a50001f, 0x10334468, 0x1890001f, 0x10334468,
	0x61602402, 0x61207c02, 0x81201005, 0xd820ae24, 0x17c07c1f, 0x1940001f,
	0x103328a8, 0xe1400002, 0x1940001f, 0x103328ac, 0xe1400002, 0x1940001f,
	0x1033a8a8, 0xe1400002, 0x1940001f, 0x1033a8ac, 0xe1400002, 0xd000afa0,
	0x17c07c1f, 0x1940001f, 0x103328a8, 0xe1400003, 0x1940001f, 0x103328ac,
	0xe1400003, 0x1940001f, 0x1033a8a8, 0xe1400003, 0x1940001f, 0x1033a8ac,
	0xe1400003, 0x18d0001f, 0x10334460, 0x1a50001f, 0x10334460, 0x1890001f,
	0x10334460, 0x61602402, 0x61207c02, 0x81201005, 0xd820b2c4, 0x17c07c1f,
	0x1940001f, 0x103328b0, 0xe1400002, 0x1940001f, 0x103328b4, 0xe1400002,
	0x1940001f, 0x1033a8b0, 0xe1400002, 0x1940001f, 0x1033a8b4, 0xe1400002,
	0xd000b440, 0x17c07c1f, 0x1940001f, 0x103328b0, 0xe1400003, 0x1940001f,
	0x103328b4, 0xe1400003, 0x1940001f, 0x1033a8b0, 0xe1400003, 0x1940001f,
	0x1033a8b4, 0xe1400003, 0x1950001f, 0x10332864, 0x1a00001f, 0x00000001,
	0xa15a2005, 0x1a00001f, 0x10332864, 0xe2000005, 0xf0000000, 0x17c07c1f,
	0x1880001f, 0x10a10c4c, 0x18d0001f, 0x10a10c4c, 0x1910001f, 0x10a0061c,
	0x1940001f, 0x00000100, 0x81019001, 0xa0c01003, 0xe0800003, 0x18d0001f,
	0x10a00638, 0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f,
	0x00c01403, 0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f,
	0xe080001f, 0x1880001f, 0x10a10c4c, 0x18d0001f, 0x10a10c4c, 0x1910001f,
	0x10a0061c, 0x1940001f, 0x00000100, 0x81021001, 0xa0c01003, 0xe0800003,
	0x18d0001f, 0x10a0063c, 0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003,
	0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003,
	0x17c07c1f, 0xe080001f, 0x18d0001f, 0x10330510, 0x80880c01, 0x18d0001f,
	0x10338510, 0x80c80c01, 0xa0800c02, 0xf0000000, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x1840001f, 0x00000001, 0xa1d48407, 0x1990001f,
	0x10a00600, 0xa9800006, 0xf8000000, 0x1890001f, 0x10a0061c, 0x80800402,
	0xa19c0806, 0x1890001f, 0x10a0061c, 0x18c0001f, 0x10a0061c, 0x88800002,
	0xffffefff, 0xe0c00002, 0xe8208000, 0x10a00604, 0x00000000, 0xe8208000,
	0x10a00608, 0x00000000, 0xe8208000, 0x10a00630, 0x00000000, 0x1880001f,
	0x10a00280, 0x18d0001f, 0x10a00280, 0x88c00003, 0xffff0000, 0xe0800003,
	0x81550406, 0xd8013725, 0x17c07c1f, 0x815a8406, 0xd82105c5, 0x17c07c1f,
	0xa1908406, 0xa1960406, 0x815c8406, 0xd80105c5, 0x17c07c1f, 0xa1de0407,
	0x81fc0407, 0x1b00001f, 0xffffffff, 0xa1dc0407, 0x1b00001f, 0x00000000,
	0x81439801, 0xd8010825, 0x17c07c1f, 0x1b80001f, 0xd00f0000, 0x81fc8407,
	0x18c0001f, 0x10a00608, 0xe0c0000c, 0x8880000c, 0xffffffff, 0xd80132c2,
	0x17c07c1f, 0x81439801, 0xd82108c5, 0x17c07c1f, 0x1b80001f, 0x5000aaaa,
	0x814a9801, 0xd8010a25, 0x17c07c1f, 0xe8208000, 0x10a00408, 0xc0000bf0,
	0xe8208000, 0x10a00414, 0x033d5153, 0xd0010ae0, 0x17c07c1f, 0xe8208000,
	0x10a00408, 0xc00008f0, 0xe8208000, 0x10a00414, 0x033d5150, 0xe8208000,
	0x10a0040c, 0x00000000, 0xe8208000, 0x10a00410, 0xffffffff, 0xc0c06b40,
	0x17c07c1f, 0xc0c15b20, 0x17c07c1f, 0x81401801, 0xd8010f25, 0x17c07c1f,
	0x80c41801, 0xd8010d03, 0x17c07c1f, 0x81f60407, 0x18d0001f, 0x10a00288,
	0xc0c14500, 0x17c07c1f, 0x18d0001f, 0x10a0028c, 0xc0c14740, 0x17c07c1f,
	0x18c0001f, 0x10a00204, 0xc0c14a80, 0x17c07c1f, 0xe8208000, 0x10a00260,
	0x0000000f, 0xc2806e00, 0x1296041f, 0x81401801, 0xd80110c5, 0x17c07c1f,
	0xa1dc0407, 0x1b00001f, 0x00000000, 0x1b80001f, 0x30000004, 0x81fc8407,
	0x8880000c, 0xffffffff, 0xd8012ec2, 0x17c07c1f, 0x81449801, 0xd8011485,
	0x17c07c1f, 0x81499801, 0x81071801, 0xa1401005, 0xd8211345, 0x17c07c1f,
	0x1a00001f, 0x10a00400, 0xe2200001, 0xc0c07ae0, 0x17c07c1f, 0x1a00001f,
	0x10a00400, 0xe220000d, 0xc0c07ae0, 0x17c07c1f, 0xd0011480, 0x17c07c1f,
	0x1a00001f, 0x10a00400, 0xe2200003, 0xc0c07ae0, 0x17c07c1f, 0x1a00001f,
	0x10a00400, 0xe220000f, 0xc0c07ae0, 0x17c07c1f, 0x808a9801, 0xc8e06f02,
	0x17c07c1f, 0xa1d38407, 0xa0108400, 0xa0120400, 0xa0130400, 0xa0170400,
	0xa0148400, 0x1910001f, 0x10a00380, 0x81081001, 0x80e01001, 0xc2806e00,
	0x129c0c1f, 0x81089801, 0x814c2801, 0xa1001404, 0xd80117e4, 0x17c07c1f,
	0x18c0001f, 0x10a00380, 0xe0e00013, 0xe0e00011, 0xe0e00001, 0xc2806e00,
	0x1298841f, 0xc0c1abe0, 0x17c07c1f, 0x1250041f, 0x1900001f, 0x10a00644,
	0xe1000009, 0xc0807b60, 0x17c07c1f, 0xe8208000, 0x10a00080, 0x000003df,
	0xa1dc0407, 0xab000002, 0x000100a0, 0x1b80001f, 0x90100000, 0x80cd9801,
	0xc8e00003, 0x17c07c1f, 0x80ce1801, 0xc8e01da3, 0x17c07c1f, 0x80cf1801,
	0xc8e04743, 0x17c07c1f, 0x80cf9801, 0xc8e051e3, 0x17c07c1f, 0x80ce9801,
	0xc8e029e3, 0x17c07c1f, 0x81fc0407, 0x1b00001f, 0xffffffff, 0x1b80001f,
	0x20000004, 0x81fc8407, 0x88c0000c, 0xffffffff, 0xd80122e3, 0x17c07c1f,
	0xa1dc0407, 0x1b10001f, 0x10a00148, 0x1b80001f, 0x20000004, 0xa1dc8407,
	0x80d2840c, 0xd82122e3, 0x17c07c1f, 0x1890001f, 0x10a00624, 0x80828801,
	0xd80120c2, 0x17c07c1f, 0x1890001f, 0x10a00478, 0x18d0001f, 0x10a0061c,
	0x81018801, 0x81048c04, 0xd82120c4, 0x17c07c1f, 0x18d0001f, 0x10a007e4,
	0x1900001f, 0x10a007e4, 0x10d1041f, 0xe1000003, 0xd80178e4, 0x17c07c1f,
	0xa1dc0407, 0x1b10001f, 0x10a00148, 0x1b80001f, 0x20000004, 0xa1dc8407,
	0x80d2840c, 0xd8012263, 0x17c07c1f, 0x1b10001f, 0x10a00148, 0xd00119a0,
	0x17c07c1f, 0xc0c03800, 0x17c07c1f, 0xd00119a0, 0x17c07c1f, 0x1890001f,
	0x10a00624, 0x80810801, 0xd80124c2, 0x17c07c1f, 0x1880001f, 0x0000000f,
	0x18d0001f, 0x10a00160, 0x80840c02, 0x18d0001f, 0x10a00478, 0x80a00c02,
	0xc8c16062, 0x17c07c1f, 0x81fc0407, 0x1b00001f, 0xffffffff, 0x81fc8407,
	0x1b80001f, 0x20000004, 0x88c0000c, 0xffffffff, 0xd82119a3, 0x17c07c1f,
	0x1880001f, 0x10a20e1c, 0xe0800003, 0xc0c1aac0, 0x17c07c1f, 0x81489801,
	0x810c2801, 0xa1401404, 0xd8012825, 0x17c07c1f, 0x18c0001f, 0x10a00380,
	0xe0e00011, 0x1b80001f, 0x20000020, 0xe0e00013, 0xe0e00012, 0x81fc8407,
	0x18c0001f, 0x10a00608, 0xe0c0000c, 0x80348400, 0x1b80001f, 0x20000300,
	0x80370400, 0x1b80001f, 0x20000300, 0x80330400, 0x1b80001f, 0x20000104,
	0x80308400, 0x80320400, 0x81f38407, 0x808a9801, 0xc8e07422, 0x17c07c1f,
	0x81449801, 0xd8012ec5, 0x17c07c1f, 0x81499801, 0x81071801, 0xa1401005,
	0xd8212d45, 0x17c07c1f, 0x1a00001f, 0x10a00400, 0xe2200000, 0xc0c07ae0,
	0x17c07c1f, 0x1a00001f, 0x10a00400, 0xe220000c, 0xc0c07ae0, 0x17c07c1f,
	0x1b80001f, 0x20000a50, 0xd0012ec0, 0x17c07c1f, 0x1a00001f, 0x10a00400,
	0xe2200002, 0xc0c07ae0, 0x17c07c1f, 0x1a00001f, 0x10a00400, 0xe220000e,
	0xc0c07ae0, 0x17c07c1f, 0x1b80001f, 0x20000a50, 0x81401801, 0xd8013285,
	0x17c07c1f, 0x1890001f, 0x10a0028c, 0x68e00002, 0x10a0021c, 0x1880001f,
	0x10a00260, 0x18d0001f, 0x10a00260, 0x80f00403, 0x80f09003, 0xe0800003,
	0x18c0001f, 0x10a00204, 0xc0c154a0, 0x17c07c1f, 0x18d0001f, 0x10a0028c,
	0xc0c152c0, 0x17c07c1f, 0x18d0001f, 0x10a00288, 0xc0c150e0, 0x17c07c1f,
	0x1880001f, 0x0c530000, 0x18f00002, 0x17c07c1f, 0xc0c15f20, 0x17c07c1f,
	0x81f48407, 0xa1d60407, 0x81f10407, 0x80899801, 0xd8213442, 0x17c07c1f,
	0x1880001f, 0x10a00034, 0x18c0001f, 0x000f0000, 0xe0800003, 0xa1db0407,
	0x18c0001f, 0x10a00428, 0x1910001f, 0x10a00164, 0xe0c00004, 0x18c0001f,
	0x10a0042c, 0x1910001f, 0x10a00150, 0xe0c00004, 0x18c0001f, 0x10a00430,
	0x1910001f, 0x10a0014c, 0xe0c00004, 0x81fe0407, 0x81ff0407, 0x81fe8407,
	0x1ac0001f, 0x55aa55aa, 0xe8208000, 0x10a20e00, 0x00000001, 0x89800006,
	0xffc7ffff, 0x81f20407, 0x81f28407, 0x18c0001f, 0x10a0001c, 0x1910001f,
	0x10a0001c, 0xa9000004, 0x0b160000, 0x81328404, 0xe0c00004, 0x1b80001f,
	0x200009c4, 0xe8208000, 0x10a00030, 0xffffffff, 0xa1128404, 0xe0c00004,
	0xa1d48407, 0xc2814400, 0x1298041f, 0x81fc0407, 0x1b00001f, 0x00000001,
	0xa1dc0407, 0xc0807b60, 0x17c07c1f, 0x1300081f, 0xe8208000, 0x10a00080,
	0x00000000, 0x1b80001f, 0x90100000, 0x81fc8407, 0x80c1b001, 0xd8214063,
	0x17c07c1f, 0xa1d28407, 0x81f20407, 0x1b80001f, 0x2fffffff, 0x1b80001f,
	0x2fffffff, 0x1b80001f, 0x26d2bad4, 0x1900001f, 0x102007a0, 0x18d0001f,
	0x102007a0, 0x80f48403, 0xa0d50403, 0xe1000003, 0x1900001f, 0x102007a4,
	0x18d0001f, 0x102007a4, 0x80f48403, 0xa0d50403, 0xe1000003, 0x1900001f,
	0x102007a8, 0x18d0001f, 0x102007a8, 0x80f48403, 0xa0d50403, 0xe1000003,
	0x1900001f, 0x102007c0, 0x18d0001f, 0x102007c0, 0x80f48403, 0xa0d50403,
	0xe1000003, 0x1880001f, 0x0000000f, 0x18d0001f, 0x10a00160, 0x80840c02,
	0x18d0001f, 0x10a00478, 0x80a00c02, 0xc8c16062, 0x17c07c1f, 0x81fc0407,
	0x1b00001f, 0x00000001, 0x1b80001f, 0x20000004, 0x81fc8407, 0x88c0000c,
	0x00000001, 0xd8213b23, 0x17c07c1f, 0x1890001f, 0x10a0009c, 0x80800801,
	0xd8213b22, 0x17c07c1f, 0x1ac0001f, 0x77887788, 0xf0000000, 0x17c07c1f,
	0x18c0001f, 0x10a00604, 0x1910001f, 0x10a00604, 0xa1002804, 0xe0c00004,
	0xf0000000, 0x17c07c1f, 0x1900001f, 0x10a0026c, 0xe100001f, 0xe2e01041,
	0x1b80001f, 0x20000080, 0x1950001f, 0x10a00288, 0x810f1401, 0x1299101f,
	0x18c0001f, 0x10a00604, 0x1910001f, 0x10a00604, 0xa1002804, 0xe0c00004,
	0xf0000000, 0x17c07c1f, 0x1900001f, 0x10a00268, 0x81499801, 0x81071801,
	0xa1401005, 0xd8214885, 0x17c07c1f, 0xe100001f, 0xd00148a0, 0x17c07c1f,
	0xe1200003, 0xe2e01041, 0x1b80001f, 0x20000080, 0x1950001f, 0x10a0028c,
	0x810f1401, 0x1299901f, 0x18c0001f, 0x10a00604, 0x1910001f, 0x10a00604,
	0xa1002804, 0xe0c00004, 0xf0000000, 0x17c07c1f, 0x18c0001f, 0x10a00204,
	0x1890001f, 0x10a00204, 0xa0908402, 0xe0c00002, 0xa0928402, 0xe0c00002,
	0x80b30402, 0xe0c00002, 0x1b80001f, 0x20000003, 0x81499801, 0x81071801,
	0xa1401005, 0xd8214d65, 0x17c07c1f, 0xa0940402, 0xe0c00002, 0x1b80001f,
	0x20000080, 0xd0014de0, 0x17c07c1f, 0x80b60402, 0xe0c00002, 0x1b80001f,
	0x20000080, 0xa0938402, 0xe0c00002, 0x80b00402, 0xe0c00002, 0xa0920402,
	0xe0c00002, 0x80b10402, 0xe0c00002, 0x80b18402, 0xe0c00002, 0x1b80001f,
	0x20000080, 0x1950001f, 0x10a00204, 0x810f1401, 0x129a101f, 0x1a00001f,
	0x10a00604, 0x1a50001f, 0x10a00604, 0xa2402809, 0xe2000004, 0xf0000000,
	0x17c07c1f, 0xe2e01045, 0x1b80001f, 0x20000080, 0x19700009, 0x17c07c1f,
	0x812f1401, 0x129a901f, 0x18c0001f, 0x10a00604, 0x1910001f, 0x10a00604,
	0xa1002804, 0xe0c00004, 0xf0000000, 0x17c07c1f, 0xe2e01045, 0x1b80001f,
	0x20000080, 0x19700009, 0x17c07c1f, 0x812f1401, 0x129b101f, 0x18c0001f,
	0x10a00604, 0x1910001f, 0x10a00604, 0xa1002804, 0xe0c00004, 0xf0000000,
	0x17c07c1f, 0x18c0001f, 0x10a00204, 0x1890001f, 0x10a00204, 0x80b00402,
	0xe0c00002, 0xa0920402, 0xe0c00002, 0xa0910402, 0xe0c00002, 0xa0918402,
	0xe0c00002, 0x1b80001f, 0x20000080, 0x17c07c1f, 0x80b08402, 0xe0c00002,
	0x81499801, 0x81071801, 0xa1401005, 0xd8215865, 0x17c07c1f, 0x80b38402,
	0xe0c00002, 0x80b40402, 0xe0c00002, 0x1b80001f, 0x20000080, 0xd0015960,
	0x17c07c1f, 0xa0960402, 0xe0c00002, 0x80b38402, 0xe0c00002, 0x1b80001f,
	0x20000080, 0x1b80001f, 0x2000001a, 0xa0930402, 0xe0c00002, 0x1b80001f,
	0x20000003, 0x80b28402, 0xe0c00002, 0x1b80001f, 0x2000001a, 0x80b20402,
	0xe0c00002, 0xa0900402, 0xe0c00002, 0xf0000000, 0x17c07c1f, 0x10d8041f,
	0x1900001f, 0x10a00644, 0xe1000003, 0x125b041f, 0x1900001f, 0x10a00644,
	0xe1000009, 0x1b80001f, 0x20000045, 0x10db841f, 0x1900001f, 0x10a00644,
	0xe1000003, 0x1259841f, 0x1900001f, 0x10a00644, 0xe1000009, 0x1b80001f,
	0x200000cd, 0x10d8041f, 0x1900001f, 0x10a00648, 0xe1000003, 0x125b041f,
	0x1900001f, 0x10a00648, 0xe1000009, 0x1b80001f, 0x20000265, 0xf0000000,
	0x17c07c1f, 0x10db841f, 0x1900001f, 0x10a00648, 0xe1000003, 0x1259841f,
	0x1900001f, 0x10a00648, 0xe1000009, 0xf0000000, 0x17c07c1f, 0x1200081f,
	0x1890001f, 0x10a0061c, 0x18c0001f, 0x10a0061c, 0xa8800002, 0x00001000,
	0xe0c00002, 0x80802001, 0xd8216762, 0x17c07c1f, 0x1890001f, 0x10a00478,
	0x80818801, 0x18d0001f, 0x10a007e4, 0x1900001f, 0x10a007e4, 0xd8016602,
	0x17c07c1f, 0x10d0041f, 0xe1000003, 0x1890001f, 0x10a00478, 0x80810801,
	0xd80164e2, 0x17c07c1f, 0x1890001f, 0x0011bb94, 0x18c0001f, 0x0011bb94,
	0x08800002, 0x00000001, 0xe0c00002, 0xd00178e0, 0x17c07c1f, 0x1890001f,
	0x0011bb9c, 0x18c0001f, 0x0011bb9c, 0x08800002, 0x00000001, 0xe0c00002,
	0xd00178e0, 0x17c07c1f, 0x10d1041f, 0xe1000003, 0x1890001f, 0x0011bb84,
	0x18c0001f, 0x0011bb84, 0x08800002, 0x00000001, 0xe0c00002, 0xd00178e0,
	0x17c07c1f, 0x8080a001, 0xd8216d62, 0x17c07c1f, 0x1890001f, 0x10a00478,
	0x80818801, 0x18d0001f, 0x10a007e4, 0x1900001f, 0x10a007e4, 0xd8016c02,
	0x17c07c1f, 0x10d0841f, 0xe1000003, 0x1890001f, 0x10a00478, 0x80810801,
	0xd8016ae2, 0x17c07c1f, 0x1890001f, 0x0011bb90, 0x18c0001f, 0x0011bb90,
	0x08800002, 0x00000001, 0xe0c00002, 0xd00178e0, 0x17c07c1f, 0x1890001f,
	0x0011bb8c, 0x18c0001f, 0x0011bb8c, 0x08800002, 0x00000001, 0xe0c00002,
	0xd00178e0, 0x17c07c1f, 0x10d1041f, 0xe1000003, 0x1890001f, 0x0011bb84,
	0x18c0001f, 0x0011bb84, 0x08800002, 0x00000001, 0xe0c00002, 0xd00178e0,
	0x17c07c1f, 0x80812001, 0xd8217322, 0x17c07c1f, 0x18d0001f, 0x10a007e4,
	0x1900001f, 0x10a007e4, 0x10d1041f, 0xe1000003, 0x1890001f, 0x10a00478,
	0x80818801, 0xd8017202, 0x17c07c1f, 0x1890001f, 0x10a00478, 0x80808801,
	0xd80170e2, 0x17c07c1f, 0x1890001f, 0x0011bb98, 0x18c0001f, 0x0011bb98,
	0x08800002, 0x00000001, 0xe0c00002, 0xd00178e0, 0x17c07c1f, 0x1890001f,
	0x0011bb88, 0x18c0001f, 0x0011bb88, 0x08800002, 0x00000001, 0xe0c00002,
	0xd00178e0, 0x17c07c1f, 0x1890001f, 0x0011bb84, 0x18c0001f, 0x0011bb84,
	0x08800002, 0x00000001, 0xe0c00002, 0xd00178e0, 0x17c07c1f, 0x8081a001,
	0xd821a242, 0x17c07c1f, 0x1890001f, 0x10a00478, 0x80810801, 0x18d0001f,
	0x10a007e4, 0x1900001f, 0x10a007e4, 0xd8217602, 0x17c07c1f, 0x10d1841f,
	0xe1000003, 0x1890001f, 0x0011bb80, 0x18c0001f, 0x0011bb80, 0x08800002,
	0x00000001, 0xe0c00002, 0xd00178e0, 0x17c07c1f, 0x10d1041f, 0xe1000003,
	0x1890001f, 0x10a00478, 0x80808801, 0xd8017802, 0x17c07c1f, 0x1890001f,
	0x0011bb98, 0x18c0001f, 0x0011bb98, 0x08800002, 0x00000001, 0xe0c00002,
	0xd00178e0, 0x17c07c1f, 0x1890001f, 0x0011bb88, 0x18c0001f, 0x0011bb88,
	0x08800002, 0x00000001, 0xe0c00002, 0x814f9801, 0xd80179a5, 0x17c07c1f,
	0xc0c1a280, 0x17c07c1f, 0xa19f8406, 0xc0c1bf40, 0x17c07c1f, 0xe8208000,
	0x10a000e0, 0x00000002, 0xe8208000, 0x10a000e4, 0xffffffff, 0xe8208000,
	0x10a000e0, 0x00000001, 0x1890001f, 0x10a20e5c, 0x80800801, 0xd8017c42,
	0x17c07c1f, 0xe8208000, 0x10a20e5c, 0x00000001, 0xd0017b00, 0x17c07c1f,
	0xe8208000, 0x10a000e0, 0x00000000, 0x1880001f, 0x10a20e18, 0x18d0001f,
	0x10a001f4, 0xe0800003, 0xc0c1abe0, 0x17c07c1f, 0x1890001f, 0x10a007e4,
	0x80c18801, 0xd8218823, 0x17c07c1f, 0x1880001f, 0x10a00478, 0x18d0001f,
	0x10a00478, 0x88c00003, 0xfffff0ff, 0xe0800003, 0x80829801, 0xd8018122,
	0x17c07c1f, 0x1890001f, 0x10a007e4, 0x80c10801, 0xd8218123, 0x17c07c1f,
	0x1900001f, 0x10a00748, 0x18d0001f, 0x10a00748, 0x88c00003, 0xffffe0ff,
	0xa8c00003, 0x00001600, 0xe1000003, 0xc0c1b200, 0x17c07c1f, 0x80819801,
	0xd80183e2, 0x17c07c1f, 0x1890001f, 0x10a007e4, 0x80c10801, 0xd8018303,
	0x17c07c1f, 0x1900001f, 0x10a00400, 0xe120000b, 0xd0018360, 0x17c07c1f,
	0x1900001f, 0x10a00400, 0xe120000a, 0xc0c1ce00, 0x17c07c1f, 0x1b80001f,
	0x20000ce4, 0x80829801, 0xd8018602, 0x17c07c1f, 0x1890001f, 0x10a007e4,
	0x80c18801, 0xd8218603, 0x17c07c1f, 0x1900001f, 0x10a00748, 0x18d0001f,
	0x10a00748, 0x88c00003, 0xffffe0ff, 0xa8c00003, 0x00000100, 0xe1000003,
	0xc0c1b4c0, 0x17c07c1f, 0x18d0001f, 0x10a00478, 0x1a00001f, 0x10a00478,
	0x88c00003, 0xfffff0ff, 0x1890001f, 0x10a007e4, 0xa0d40803, 0xe2000003,
	0x1890001f, 0x10a007e4, 0x80c10801, 0xd80192a3, 0x17c07c1f, 0x1880001f,
	0x10a00478, 0x18d0001f, 0x10a00478, 0x88c00003, 0xffff0fff, 0xe0800003,
	0xc0c1b9e0, 0x17c07c1f, 0xc0c1bb40, 0x17c07c1f, 0x1890001f, 0x10a007e4,
	0x80c00801, 0xd8218a63, 0x17c07c1f, 0xc0c1bd40, 0x17c07c1f, 0x80821801,
	0xd8018e62, 0x17c07c1f, 0x803d0400, 0x803d8400, 0x1890001f, 0x10a007e4,
	0x88c00002, 0x00000003, 0xd8218c23, 0x17c07c1f, 0xa01f0400, 0xd0018c40,
	0x17c07c1f, 0x803f0400, 0x1890001f, 0x10a007e4, 0x88c00002, 0x00000006,
	0xd8218d63, 0x17c07c1f, 0xa01f8400, 0xd0018d80, 0x17c07c1f, 0x803f8400,
	0x80cc1801, 0xc901c7a3, 0x17c07c1f, 0x80cc1801, 0xc921c143, 0x17c07c1f,
	0x91bc0406, 0x18d0001f, 0x10a00474, 0x1900001f, 0x10a00474, 0x88c00003,
	0xfffff800, 0xe1000003, 0xc0c1bc40, 0x17c07c1f, 0x1890001f, 0x10a007e4,
	0x80c00801, 0xd8219063, 0x17c07c1f, 0xc0c1be40, 0x17c07c1f, 0x18d0001f,
	0x10a00478, 0x1a00001f, 0x10a00478, 0x88c00003, 0xffff0fff, 0x1890001f,
	0x10a007e4, 0xa0d60803, 0xe2000003, 0x1890001f, 0x10a007e4, 0x80c10801,
	0x1890001f, 0x10a00478, 0x81018803, 0xd8017e24, 0x17c07c1f, 0x1890001f,
	0x10a007e4, 0x80c18801, 0xd8019443, 0x17c07c1f, 0x81499801, 0xa14a1805,
	0xa14a9805, 0x81400405, 0xd8019445, 0x17c07c1f, 0xc0c1aac0, 0x17c07c1f,
	0x10807c1f, 0xc081ce80, 0x17c07c1f, 0xd80194a2, 0x17c07c1f, 0x1890001f,
	0x10a00624, 0x80808801, 0xd8019a62, 0x17c07c1f, 0x1890001f, 0x10a007e4,
	0x80c18801, 0xd8019823, 0x17c07c1f, 0x1890001f, 0x1033204c, 0x18c0001f,
	0x1033204c, 0x88800002, 0xffff8fff, 0xe0c00002, 0x1890001f, 0x1033a04c,
	0x18c0001f, 0x1033a04c, 0x88800002, 0xffff8fff, 0xe0c00002, 0xd0019a60,
	0x17c07c1f, 0x1890001f, 0x1033204c, 0x18c0001f, 0x1033204c, 0x88800002,
	0xffff8fff, 0xa8800002, 0x00000004, 0xe0c00002, 0x1890001f, 0x1033a04c,
	0x18c0001f, 0x1033a04c, 0x88800002, 0xffff8fff, 0xa8800002, 0x00000004,
	0xe0c00002, 0x18d0001f, 0x10a00478, 0x1a00001f, 0x10a00478, 0x89400003,
	0x0000000f, 0x88c00003, 0xfffffff0, 0x1890001f, 0x10a007e4, 0xa0c00803,
	0xe2000003, 0x1880001f, 0x10a0061c, 0x1910001f, 0x10a0061c, 0x88c00003,
	0x0000000f, 0x89000004, 0xfff0ffff, 0xa0d80c04, 0x88c00003, 0xff0fffff,
	0xa0da1403, 0x1a10001f, 0x10a007c0, 0x88c00003, 0xf0ffffff, 0x8a000008,
	0xfffffff0, 0xa0dc2003, 0x88c00003, 0xffffefff, 0xe0800003, 0x1890001f,
	0x10a0061c, 0x80810801, 0xd8019fa2, 0x17c07c1f, 0xe8208000, 0x10a20e5c,
	0x00000001, 0xc0c1c020, 0x17c07c1f, 0xc081a900, 0x17c07c1f, 0x1100081f,
	0x1890001f, 0x10a00478, 0x18c0001f, 0x0000000f, 0x80800c02, 0x90a00c02,
	0x1094081f, 0xa0800804, 0xa1dc0407, 0x1300081f, 0x80859801, 0xd821a242,
	0x17c07c1f, 0x1880001f, 0x10a10c00, 0xe0800001, 0xf0000000, 0x17c07c1f,
	0xa01b0400, 0xa01a8400, 0xa01c0400, 0xa01a0400, 0x1b80001f, 0x20000013,
	0xa0198400, 0x1b80001f, 0x20000018, 0x80388400, 0x80310400, 0x803c0400,
	0x1b80001f, 0x20000004, 0x80390400, 0x81fa0407, 0x81fd8407, 0x81f08407,
	0x808ab401, 0xd801a4c2, 0x17c07c1f, 0x80380400, 0x10d2041f, 0x1252841f,
	0x1890001f, 0x10a0049c, 0xa0800c02, 0x1900001f, 0x10a0049c, 0xe1000002,
	0x1890001f, 0x10a0049c, 0xa0802402, 0x1900001f, 0x10a0049c, 0xe1000002,
	0x1b80001f, 0x20000003, 0x1890001f, 0x10a0049c, 0x80a00c02, 0x1900001f,
	0x10a0049c, 0xe1000002, 0x1890001f, 0x10a0049c, 0x80a02402, 0x1900001f,
	0x10a0049c, 0xe1000002, 0xf0000000, 0x17c07c1f, 0x10807c1f, 0x80c99801,
	0xa0ca1803, 0xa0ca9803, 0x80c00c01, 0xd821aa83, 0x17c07c1f, 0x1880001f,
	0x000100a0, 0x80ef1801, 0xa0930c02, 0x80b38c02, 0xf0000000, 0x17c07c1f,
	0x18d0001f, 0x10a000ec, 0x1900001f, 0x10a000ec, 0xa8c00003, 0x00000003,
	0xe1000004, 0xf0000000, 0x17c07c1f, 0xe8208000, 0x10a000e0, 0x00000002,
	0x80829c01, 0xd821ad22, 0x17c07c1f, 0xe8208000, 0x10a000e4, 0x000000b8,
	0xd001ad80, 0xe8208000, 0x10a000e4, 0x000001d7, 0x18d0001f, 0x10a000ec,
	0x1900001f, 0x10a000ec, 0xa8c00003, 0x00000003, 0xe1000003, 0xe8208000,
	0x10a000e0, 0x00000001, 0x18d0001f, 0x10a000ec, 0x81028c01, 0x814b3401,
	0xd801b164, 0x17c07c1f, 0xd821aec5, 0x17c07c1f, 0x18d0001f, 0x10a00640,
	0x1900001f, 0x10a00640, 0xa0d08403, 0xe1000003, 0x18d0001f, 0x10a000ec,
	0x1900001f, 0x10a000ec, 0xa8c00003, 0x00000003, 0xe1000004, 0xe8208000,
	0x10a000e0, 0x00000000, 0xf0000000, 0x17c07c1f, 0x18c0001f, 0x10a00644,
	0x1a50001f, 0x10a00644, 0xa01c0400, 0x1b80001f, 0x20000004, 0xa2520409,
	0xe0c00009, 0x1b80001f, 0x20000004, 0xa2540409, 0xe0c00009, 0x1b80001f,
	0x20000004, 0xa2560409, 0xe0c00009, 0x1b80001f, 0x20000004, 0x803c0400,
	0xf0000000, 0x17c07c1f, 0x18c0001f, 0x10a00648, 0x1a50001f, 0x10a00648,
	0xa01c0400, 0x1b80001f, 0x20000004, 0xa2560409, 0xe0c00009, 0x1b80001f,
	0x20000004, 0xa2540409, 0xe0c00009, 0x1b80001f, 0x20000004, 0xa2520409,
	0xe0c00009, 0x1b80001f, 0x20000004, 0x803c0400, 0xf0000000, 0x17c07c1f,
	0x1890001f, 0x10a00478, 0x18c0001f, 0x10a00478, 0xa09c0402, 0xe0c00002,
	0xe8208000, 0x10a000e0, 0x00000002, 0xe8208000, 0x10a000e4, 0x00000208,
	0xe8208000, 0x10a000e0, 0x00000001, 0x1b80001f, 0x20000424, 0xf0000000,
	0x17c07c1f, 0x18d0001f, 0x10a00474, 0x1900001f, 0x10a00474, 0xa8c00003,
	0x00000700, 0xe1000003, 0x1b80001f, 0x20000108, 0xf0000000, 0x17c07c1f,
	0x18d0001f, 0x10a00494, 0x1900001f, 0x10a00494, 0xa0d80403, 0xe1000003,
	0xf0000000, 0x17c07c1f, 0x18d0001f, 0x10a00494, 0x1900001f, 0x10a00494,
	0x80f80403, 0xe1000003, 0xf0000000, 0x17c07c1f, 0x18d0001f, 0x10a00494,
	0x1900001f, 0x10a00494, 0xa0d88403, 0xe1000003, 0xf0000000, 0x17c07c1f,
	0x18d0001f, 0x10a00494, 0x1900001f, 0x10a00494, 0x80f88403, 0xe1000003,
	0xf0000000, 0x17c07c1f, 0x80829c01, 0xd821bfe2, 0x17c07c1f, 0x81f28407,
	0x81f20407, 0xf0000000, 0x17c07c1f, 0x1880001f, 0x00000007, 0x80899802,
	0xd821c102, 0x17c07c1f, 0xa1d28407, 0x81f20407, 0xf0000000, 0x17c07c1f,
	0xa01d8400, 0x1b80001f, 0x20000042, 0xa01e8400, 0x1b80001f, 0x20000551,
	0xa1d18407, 0x1b80001f, 0x20000045, 0xa01c0400, 0x10d3041f, 0xa0d38403,
	0x1890001f, 0x10a0049c, 0x80a00c02, 0x1900001f, 0x10a0049c, 0xe1000002,
	0xa01c8400, 0x1b80001f, 0x20000155, 0x810bb401, 0xd801c584, 0x17c07c1f,
	0x80851801, 0xd801c542, 0x17c07c1f, 0x1880001f, 0x10a00034, 0x18c0001f,
	0x000f0000, 0xe0800003, 0xd821c544, 0x17c07c1f, 0x81f18407, 0x803c8400,
	0x808f8001, 0xd801c722, 0x17c07c1f, 0x10d3041f, 0xa0d38403, 0x1890001f,
	0x10a0049c, 0xa0800c02, 0x1900001f, 0x10a0049c, 0xe1000002, 0x803c0400,
	0x803e0400, 0xf0000000, 0x17c07c1f, 0xa01d0400, 0x1b80001f, 0x20000042,
	0xa01e0400, 0x1b80001f, 0x20000551, 0xa1d18407, 0x1b80001f, 0x20000045,
	0xa01c0400, 0x10d3041f, 0xa0d38403, 0x1890001f, 0x10a0049c, 0x80a00c02,
	0x1900001f, 0x10a0049c, 0xe1000002, 0xa01c8400, 0x1b80001f, 0x20000155,
	0x810bb401, 0xd801cbe4, 0x17c07c1f, 0x80851801, 0xd801cba2, 0x17c07c1f,
	0x1880001f, 0x10a00034, 0x18c0001f, 0x000f0000, 0xe0800003, 0xd821cba4,
	0x17c07c1f, 0x81f18407, 0x803c8400, 0x808f8001, 0xd801cd82, 0x17c07c1f,
	0x10d3041f, 0xa0d38403, 0x1890001f, 0x10a0049c, 0xa0800c02, 0x1900001f,
	0x10a0049c, 0xe1000002, 0x803c0400, 0x803e8400, 0xf0000000, 0x17c07c1f,
	0x1b80001f, 0x20000aa1, 0xf0000000, 0x17c07c1f, 0x1880001f, 0x10a10c4c,
	0x18d0001f, 0x10a10c4c, 0x1910001f, 0x10a0061c, 0x1940001f, 0x00000100,
	0x81019001, 0xa0c01003, 0xe0800003, 0x18d0001f, 0x10a00638, 0x19300003,
	0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003,
	0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f, 0xe080001f, 0x1880001f,
	0x10a10c4c, 0x18d0001f, 0x10a10c4c, 0x1910001f, 0x10a0061c, 0x1940001f,
	0x00000100, 0x81021001, 0xa0c01003, 0xe0800003, 0x18d0001f, 0x10a0063c,
	0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f, 0x00c01403,
	0x19300003, 0x17c07c1f, 0x00c01403, 0x19300003, 0x17c07c1f, 0xe080001f,
	0x18d0001f, 0x10330510, 0x80880c01, 0x18d0001f, 0x10338510, 0x80c80c01,
	0xa0800c02, 0xf0000000, 0x17c07c1f
};
static struct pcm_desc all_in_one_pcm = {
	.version	= "pcm_all_in_one_v2.2_20170118",
	.base		= all_in_one_binary,
	.size		= 3759,
	.sess		= 2,
	.replace	= 0,
	.addr_2nd	= 0,
	.vec0		= EVENT_VEC(32, 1, 0, 0),	/* FUNC_26M_WAKEUP */
	.vec1		= EVENT_VEC(33, 1, 0, 104),	/* FUNC_26M_SLEEP */
	.vec2		= EVENT_VEC(34, 1, 0, 237),	/* FUNC_INFRA_WAKEUP */
	.vec3		= EVENT_VEC(35, 1, 0, 291),	/* FUNC_INFRA_SLEEP */
	.vec4		= EVENT_VEC(36, 1, 0, 335),	/* FUNC_APSRC_WAKEUP */
	.vec6		= EVENT_VEC(38, 1, 0, 570),	/* FUNC_VRF18_WAKEUP */
	.vec7		= EVENT_VEC(39, 1, 0, 619),	/* FUNC_VRF18_SLEEP */
	.vec8		= EVENT_VEC(47, 1, 0, 655),	/* FUNC_DDREN_WAKEUP */
	.vec9		= EVENT_VEC(48, 1, 0, 709),	/* FUNC_DDREN_SLEEP */
};
#endif

static struct pwr_ctrl vcorefs_ctrl = {
	.wake_src		= WAKE_SRC_R12_PCMTIMER,

	/* default VCORE DVFS is disabled */
	.pcm_flags =
	(SPM_FLAG_RUN_COMMON_SCENARIO | SPM_FLAG_DIS_VCORE_DVS | SPM_FLAG_DIS_VCORE_DFS | SPM_FLAG_DIS_DVFS_MMPLL_SET),

	/* Auto-gen Start */

	/* SPM_CLK_CON */
	.reg_srcclken0_ctl = 0,
	.reg_srcclken1_ctl = 0x3,
	.reg_spm_lock_infra_dcm = 1,
	.reg_srcclken_mask = 1,
	.reg_md1_c32rm_en = 0,
	.reg_md2_c32rm_en = 0,
	.reg_clksq0_sel_ctrl = 0,
	.reg_clksq1_sel_ctrl = 1,
	.reg_srcclken0_en = 1,
	.reg_srcclken1_en = 0,
	.reg_sysclk0_src_mask_b = 0,
	.reg_sysclk1_src_mask_b = 0x20,

	/* SPM_SRC_REQ */
	.reg_spm_apsrc_req = 0,
	.reg_spm_f26m_req = 0,
	.reg_spm_infra_req = 0,
	.reg_spm_ddren_req = 0,
	.reg_spm_vrf18_req = 0,
	.reg_spm_dvfs_level0_req = 0,
	.reg_spm_dvfs_level1_req = 0,
	.reg_spm_dvfs_level2_req = 0,
	.reg_spm_dvfs_level3_req = 0,
	.reg_spm_dvfs_level4_req = 0,
	.reg_spm_sspm_mailbox_req = 0,
	.reg_spm_sw_mailbox_req = 0,
	.reg_spm_cksel2_req = 0,
	.reg_spm_cksel3_req = 0,

	/* SPM_SRC_MASK */
	.reg_csyspwreq_mask = 1,
	.reg_md_srcclkena_0_infra_mask_b = 1,
	.reg_md_srcclkena_1_infra_mask_b = 0,
	.reg_md_apsrc_req_0_infra_mask_b = 0,
	.reg_md_apsrc_req_1_infra_mask_b = 0,
	.reg_conn_srcclkena_infra_mask_b = 1,
	.reg_conn_infra_req_mask_b = 0,
	.reg_sspm_srcclkena_infra_mask_b = 0,
	.reg_sspm_infra_req_mask_b = 1,
	.reg_scp_srcclkena_infra_mask_b = 0,
	.reg_scp_infra_req_mask_b = 1,
	.reg_srcclkeni0_infra_mask_b = 0,
	.reg_srcclkeni1_infra_mask_b = 0,
	.reg_srcclkeni2_infra_mask_b = 0,
	.reg_ccif0_md_event_mask_b = 1,
	.reg_ccif0_ap_event_mask_b = 1,
	.reg_ccif1_md_event_mask_b = 1,
	.reg_ccif1_ap_event_mask_b = 1,
	.reg_ccif2_md_event_mask_b = 1,
	.reg_ccif2_ap_event_mask_b = 1,
	.reg_ccif3_md_event_mask_b = 1,
	.reg_ccif3_ap_event_mask_b = 1,
	.reg_ccifmd_md1_event_mask_b = 0,
	.reg_ccifmd_md2_event_mask_b = 0,
	.reg_c2k_ps_rccif_wake_mask_b = 1,
	.reg_c2k_l1_rccif_wake_mask_b = 0,
	.reg_ps_c2k_rccif_wake_mask_b = 1,
	.reg_l1_c2k_rccif_wake_mask_b = 0,
	.reg_disp2_req_mask_b = 1,
	.reg_md_ddr_en_0_mask_b = 1,
	.reg_md_ddr_en_1_mask_b = 0,
	.reg_conn_ddr_en_mask_b = 1,

	/* SPM_SRC2_MASK */
	.reg_disp0_req_mask_b = 1,
	.reg_disp1_req_mask_b = 1,
	.reg_disp_od_req_mask_b = 1,
	.reg_mfg_req_mask_b = 0,
	.reg_vdec0_req_mask_b = 0,
	.reg_gce_req_mask_b = 1,
	.reg_gce_vrf18_req_mask_b = 1,
	.reg_lpdma_req_mask_b = 0,
	.reg_conn_srcclkena_cksel2_mask_b = 0,
	.reg_sspm_apsrc_req_ddren_mask_b = 1,
	.reg_scp_apsrc_req_ddren_mask_b = 1,
	.reg_md_vrf18_req_0_mask_b = 1,
	.reg_md_vrf18_req_1_mask_b = 0,
	.reg_next_dvfs_level0_mask_b = 1,
	.reg_next_dvfs_level1_mask_b = 1,
	.reg_next_dvfs_level2_mask_b = 1,
	.reg_next_dvfs_level3_mask_b = 1,
	.reg_next_dvfs_level4_mask_b = 1,
	.reg_sw2spm_int0_mask_b = 1,
	.reg_sw2spm_int1_mask_b = 1,
	.reg_sw2spm_int2_mask_b = 1,
	.reg_sw2spm_int3_mask_b = 1,
	.reg_sspm2spm_int0_mask_b = 1,
	.reg_sspm2spm_int1_mask_b = 1,
	.reg_sspm2spm_int2_mask_b = 1,
	.reg_sspm2spm_int3_mask_b = 1,
	.reg_dqssoc_req_mask_b = 0,
	/* .reg_gce_vrf18_req2_mask_b = 0, */ /* TODO */

	/* SPM_SRC3_MASK */
	.reg_mpwfi_op = 1,
	.reg_spm_resource_req_rsv1_4_mask_b = 0,
	.reg_spm_resource_req_rsv1_3_mask_b = 0,
	.reg_spm_resource_req_rsv1_2_mask_b = 0,
	.reg_spm_resource_req_rsv1_1_mask_b = 0,
	.reg_spm_resource_req_rsv1_0_mask_b = 0,
	.reg_spm_resource_req_rsv0_4_mask_b = 0,
	.reg_spm_resource_req_rsv0_3_mask_b = 0,
	.reg_spm_resource_req_rsv0_2_mask_b = 0,
	.reg_spm_resource_req_rsv0_1_mask_b = 0,
	.reg_spm_resource_req_rsv0_0_mask_b = 0,
	.reg_srcclkeni2_cksel3_mask_b = 0,
	.reg_srcclkeni2_cksel2_mask_b = 0,
	.reg_srcclkeni1_cksel3_mask_b = 0,
	.reg_srcclkeni1_cksel2_mask_b = 0,
	.reg_srcclkeni0_cksel3_mask_b = 0,
	.reg_srcclkeni0_cksel2_mask_b = 0,
	.reg_md_ddr_en_0_dbc_en = 1,
	.reg_md_ddr_en_1_dbc_en = 0,
	.reg_conn_ddr_en_dbc_en = 1,
	.reg_sspm_mask_b = 1,
	.reg_md_0_mask_b = 1,
	.reg_md_1_mask_b = 0,
	.reg_scp_mask_b = 1,
	.reg_srcclkeni0_mask_b = 1,
	.reg_srcclkeni1_mask_b = 1,
	.reg_srcclkeni2_mask_b = 1,
	.reg_md_apsrc_1_sel = 0,
	.reg_md_apsrc_0_sel = 0,
	.reg_conn_mask_b = 1,
	.reg_conn_apsrc_sel = 0,
	.reg_md_srcclkena_0_vrf18_mask_b = 1,

	/* SPM_SRC4_MASK */ /* TODO */
	/*
	* .reg_ccif4_ap_event_mask_b = 0,
	* .reg_ccif4_md_event_mask_b = 0,
	* .reg_ccif5_ap_event_mask_b = 0,
	* .reg_ccif5_md_event_mask_b = 0,
	*/

	/* SPM_WAKEUP_EVENT_MASK */
	.reg_wakeup_event_mask = 0xF0282208,

	/* SPM_EXT_WAKEUP_EVENT_MASK */
	.reg_ext_wakeup_event_mask = 0xFFFFFFFF,

	/* MCU0_WFI_EN */
	.mcu0_wfi_en = 1,

	/* MCU1_WFI_EN */
	.mcu1_wfi_en = 1,

	/* MCU2_WFI_EN */
	.mcu2_wfi_en = 1,

	/* MCU3_WFI_EN */
	.mcu3_wfi_en = 1,

	/* MCU4_WFI_EN */
	.mcu4_wfi_en = 1,

	/* MCU5_WFI_EN */
	.mcu5_wfi_en = 1,

	/* MCU6_WFI_EN */
	.mcu6_wfi_en = 1,

	/* MCU7_WFI_EN */
	.mcu7_wfi_en = 1,

	/* MCU8_WFI_EN */
	.mcu8_wfi_en = 1,

	/* MCU9_WFI_EN */
	.mcu9_wfi_en = 1,

	/* MCU10_WFI_EN */
	.mcu10_wfi_en = 1,

	/* MCU11_WFI_EN */
	.mcu11_wfi_en = 1,

	/* MCU12_WFI_EN */
	.mcu12_wfi_en = 1,

	/* MCU13_WFI_EN */
	.mcu13_wfi_en = 1,

	/* MCU14_WFI_EN */
	.mcu14_wfi_en = 1,

	/* MCU15_WFI_EN */
	.mcu15_wfi_en = 0,

	/* MCU16_WFI_EN */
	.mcu16_wfi_en = 0,

	/* MCU17_WFI_EN */
	.mcu17_wfi_en = 0,

	/* SPM_RSV_CON2 */
	/* .spm_rsv_con2 = 0, */ /* TODO */

	/* Auto-gen End */
};

struct spm_lp_scen __spm_vcorefs = {
#ifdef CONFIG_FPGA_EARLY_PORTING
	.pcmdesc	= &all_in_one_pcm,
#endif
	.pwrctrl	= &vcorefs_ctrl,
};

static void dump_pmic_info(void)
{
#if !defined(CONFIG_FPGA_EARLY_PORTING)
	u32 ret0, ret1, ret2;
	u32 val0, val1, val2;

	ret0 = pmic_read_interface_nolock(MT6355_HWCID, &val0, 0xffff, 0);
	ret1 = pmic_read_interface_nolock(MT6355_SWCID, &val1, 0xffff, 0);
	ret2 = pmic_read_interface_nolock(MT6355_DEW_READ_TEST, &val2, 0xffff, 0);
	spm_crit("[PMIC]hw_cid[000](%d)=0x%x sw_cid[002](%d)=0x%x dew_test[c04](%d)=0x%x\n",
			ret0, val0, ret1, val1, ret2, val2);

	ret0 = pmic_read_interface_nolock(MT6355_BUCK_VCORE_CON1, &val0, 0xffff, 0);
	spm_notice("[PMIC]vcore vosel[1060](%d)=0x%x\n", ret0, val0);

	ret0 = pmic_read_interface_nolock(MT6355_BUCK_VCORE_CFG0, &val0, 0xffff, 0);
	spm_crit("[PMIC]vcore slope[1064](%d)=0x%x\n", ret0, val0);
#endif
}

int spm_vcorefs_get_kicker_group(int kicker)
{
	int group = KIR_GROUP_HPM;

	switch (kicker) {
	case KIR_MM_NON_FORCE:
	case KIR_SYSFS_N:
		group = KIR_GROUP_HPM_NON_FORCE;
	break;
	case KIR_SYSFSX:
	case KIR_AUTOK_SDIO:
	case KIR_AUTOK_EMMC:
	case KIR_AUTOK_SD:
		group = KIR_GROUP_FIX;
	break;
	case KIR_MM:
	case KIR_PERF:
	case KIR_EFUSE:
	case KIR_GPU:
	case KIR_SYSFS:
	case KIR_LATE_INIT:
	default:
		group = KIR_GROUP_HPM;
	break;
	}
	return group;
}

void vcorefs_clk_init(void)
{
	struct device_node *node;

	node = of_find_compatible_node(NULL, NULL, "mediatek,topckgen");
	if (!node)
		vcorefs_err("find topck node failed\n");

	vcorefs_cksys_base = of_iomap(node, 0);

	if (!vcorefs_cksys_base)
		vcorefs_err("FAILED TO MAP TOPCKGEN\n");
}

#if defined(USE_VCOREFS_SRAM)
/*
 *  sram debug info
 */
void __iomem *vcorefs_sram_base;
#define VCOREFS_SRAM_BASE		vcorefs_sram_base	/* 0x0011bb80, size 128 */
static u32 sram_debug_info[VCOREFS_SRAM_DEBUG_COUNT];

static void vcorefs_set_sram_data(int index, u32 data)
{
	spm_write(VCOREFS_SRAM_BASE + index * 4, data);
}

static u32 vcorefs_get_sram_data(int index)
{
	return spm_read(VCOREFS_SRAM_BASE + index * 4);
}

static char *vcorefs_get_sram_debug_info(char *p)
{
	char *buff_end = p + PAGE_SIZE;
	int i;

	if (p) {
		for (i = 0; i < VCOREFS_SRAM_DEBUG_COUNT; i++) {
			if (p)
				p += snprintf(p, buff_end - p, "debug regs[%d]: 0x%x\n", i, vcorefs_get_sram_data(i));
		}
	} else {
		for (i = 0; i < VCOREFS_SRAM_DEBUG_COUNT; i++) {
			sram_debug_info[i] = vcorefs_get_sram_data(i);
			vcorefs_crit("debug regs[%d]: 0x%x\n", i, vcorefs_get_sram_data(i));
		}
	}
	return p;
}

void vcorefs_sram_init(void)
{
	int i;
	struct device_node *node;

	node = of_find_compatible_node(NULL, NULL, "mediatek,sleep");
	if (!node)
		vcorefs_err("find sleep node failed\n");

	vcorefs_sram_base = of_iomap(node, 1);
	if (!vcorefs_sram_base)
		vcorefs_err("FAILED TO MAP SRAM MEMORY OF VCORE DVFS\n");

	vcorefs_get_sram_debug_info(NULL);

	for (i = 0; i < VCOREFS_SRAM_TOTAL_COUNT; i++)
		vcorefs_set_sram_data(i, 0);
}
#endif /* USE_VCOREFS_SRAM */

char *spm_vcorefs_dump_dvfs_regs(char *p)
{
	if (p) {
		char *buff_end = p + PAGE_SIZE;

		/* SPM */
		p += snprintf(p, buff_end - p, "SPM_SW_FLAG            : 0x%x\n", spm_read(SPM_SW_FLAG));
		p += snprintf(p, buff_end - p, "DVFS_LEVEL             : 0x%x\n", spm_read(DVFS_LEVEL));
		p += snprintf(p, buff_end - p, "SPM_SW_RSV_5           : 0x%x\n", spm_read(SPM_SW_RSV_5));
		p += snprintf(p, buff_end - p, "SPM_IRQ_STA            : 0x%x\n", spm_read(SPM_IRQ_STA));
		p += snprintf(p, buff_end - p, "PCM_REG_DATA_0~3       : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG0_DATA), spm_read(PCM_REG1_DATA),
								spm_read(PCM_REG2_DATA), spm_read(PCM_REG3_DATA));
		p += snprintf(p, buff_end - p, "PCM_REG_DATA_4~7       : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG4_DATA), spm_read(PCM_REG5_DATA),
								spm_read(PCM_REG6_DATA), spm_read(PCM_REG7_DATA));
		p += snprintf(p, buff_end - p, "PCM_REG_DATA_8~11      : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG8_DATA), spm_read(PCM_REG9_DATA),
								spm_read(PCM_REG10_DATA), spm_read(PCM_REG11_DATA));
		p += snprintf(p, buff_end - p, "PCM_REG_DATA_12~15     : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG12_DATA), spm_read(PCM_REG13_DATA),
								spm_read(PCM_REG14_DATA), spm_read(PCM_REG15_DATA));
		p += snprintf(p, buff_end - p, "PCM_IM_PTR             : 0x%x (%u)\n",
								spm_read(PCM_IM_PTR), spm_read(PCM_IM_LEN));

		/* debug */
		p += snprintf(p, buff_end - p, "SPM_DVFS_DEBUG/1       : 0x%x, 0x%x\n",
								spm_read(SPM_DVFS_DEBUG), spm_read(SPM_DVFS_DEBUG1));
		/* HW signal/C2K/CONN scenario */
		p += snprintf(p, buff_end - p, "SPM_DVFS_DEBUG2/3      : 0x%x, 0x%x\n",
								spm_read(SPM_DVFS_DEBUG2), spm_read(SPM_DVFS_DEBUG3));
		/* - setting - */
		p += snprintf(p, buff_end - p, "SPM_DVFS_DEBOUNCE3     : 0x%x\n", spm_read(SPM_DVFS_DEBOUNCE3));
		p += snprintf(p, buff_end - p, "BYPASS_MSDC_DVFS_HALT  : 0x%x\n", spm_read(BYPASS_MSDC_DVFS_HALT));
		p += snprintf(p, buff_end - p, "SPM_MD_DVFS_INITIAL    : 0x%x, SPM_MD_DVFS_INITIAL2   : 0x%x\n",
			spm_read(SPM_MD_DVFS_INITIAL), spm_read(SPM_MD_DVFS_INITIAL2));

		/* scenario config */
		p += snprintf(p, buff_end - p, "SPM_DVFS_CNFG     : 0x%x\n", spm_read(SPM_DVFS_CNFG));
		/* -- MD policy -- */
		p += snprintf(p, buff_end - p, "SPM_MD_DVFS_INIT[1]: 0x%8x, [2]: 0x%8x\n",
					spm_read(SPM_MD_DVFS_INITIAL), spm_read(SPM_MD_DVFS_INITIAL2));
		p += snprintf(p, buff_end - p, "SPM_MD_DVFS_FLOOR[1]: 0x%8x, [2]: 0x%8x, [3]: 0x%8x, [4]: 0x%8x\n",
					spm_read(SPM_MD_DVFS_FLOOR), spm_read(SPM_MD_DVFS_FLOOR2),
					spm_read(SPM_MD_DVFS_FLOOR3), spm_read(SPM_MD_DVFS_FLOOR4));
		p += snprintf(p, buff_end - p, "SPM_DVFS_INITIAL_MASK: 0x%x\n", spm_read(SPM_DVFS_INITIAL_MASK));
		p += snprintf(p, buff_end - p, "SPM_DVFS_FLOOR_MASK1/2: 0x%x, 0x%x\n",
					spm_read(SPM_DVFS_FLOOR_MASK), spm_read(SPM_DVFS_FLOOR_MASK2));
		p += snprintf(p, buff_end - p, "SPM_DVFS_FLOOR_MASK3/4: 0x%x, 0x%x\n",
					spm_read(SPM_DVFS_FLOOR_MASK3), spm_read(SPM_DVFS_FLOOR_MASK4));
		/* -- MD status -- */
		p += snprintf(p, buff_end - p, "MD2SPM_DVFS_CON: 0x%x\n", spm_read(MD2SPM_DVFS_CON));
		p += snprintf(p, buff_end - p, "SPM_AP_SCENARIO: 0x%x\n", spm_read(SPM_AP_SCENARIO));


		/* -- HD SW force -- */
		p += snprintf(p, buff_end - p, "SPM_DVFS_FORCE: 0x%x\n", spm_read(SPM_DVFS_FORCE));

		/* -- HPM* SW force -- */
		p += snprintf(p, buff_end - p, "SPM_DVFS_INITIAL    : 0x%x\n", spm_read(SPM_DVFS_INITIAL_SETTING));
		p += snprintf(p, buff_end - p, "SPM_DVFS_SW_FLOOR0  : 0x%x\n", spm_read(SPM_DVFS_SW_FLOOR0));
		p += snprintf(p, buff_end - p, "SPM_DVFS_SW_FLOOR1  : 0x%x\n", spm_read(SPM_DVFS_SW_FLOOR1));
		p += snprintf(p, buff_end - p, "SPM_DVFS_SW_FLOOR2~4: 0x%x, 0x%x, 0x%x\n",
			spm_read(SPM_DVFS_SW_FLOOR2), spm_read(SPM_DVFS_SW_FLOOR3), spm_read(SPM_DVFS_SW_FLOOR4));
		p += snprintf(p, buff_end - p, "SPM_DVFS_SW_FLOOR5~7: 0x%x, 0x%x, 0x%x\n",
			spm_read(SPM_DVFS_SW_FLOOR5), spm_read(SPM_DVFS_SW_FLOOR6), spm_read(SPM_DVFS_SW_FLOOR7));

		p += snprintf(p, buff_end - p, "SPM_DVFS_CON: 0x%x\n", spm_read(SPM_DVFS_CON));

		p = vcorefs_get_sram_debug_info(p);

		vcorefs_get_emi_bw_ctrl();
		p += snprintf(p, buff_end - p, "BW[CG_H]: %d  BW[CG_L]: %d\n",
			emi_bw_ctrl[BW_CG_H], emi_bw_ctrl[BW_CG_L]);
		p += snprintf(p, buff_end - p, "BW[TO_H]: %d  BW[TO_L]: %d\n",
			emi_bw_ctrl[BW_TOTAL_H], emi_bw_ctrl[BW_TOTAL_L]);
		p += snprintf(p, buff_end - p, "BW[D2_H]: %d  BW[D1_H]: %d\n",
			emi_bw_ctrl[BW_DFS2_H], emi_bw_ctrl[BW_DFS1_H]);
		p += snprintf(p, buff_end - p, "BW[D2_L]: %d  BW[D1_L]: %d\n",
			emi_bw_ctrl[BW_DFS2_L], emi_bw_ctrl[BW_DFS1_L]);

		p += snprintf(p, buff_end - p, "\n");
	} else {
		dump_pmic_info();

		/* SPM */
		spm_vcorefs_warn("SPM_SW_FLAG            : 0x%x\n", spm_read(SPM_SW_FLAG));
		spm_vcorefs_warn("DVFS_LEVEL             : 0x%x\n", spm_read(DVFS_LEVEL));
		spm_vcorefs_warn("SPM_SW_RSV_5           : 0x%x\n", spm_read(SPM_SW_RSV_5));
		spm_vcorefs_warn("SPM_IRQ_STA            : 0x%x\n", spm_read(SPM_IRQ_STA));
		spm_vcorefs_warn("PCM_REG_DATA_0~3       : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG0_DATA), spm_read(PCM_REG1_DATA),
								spm_read(PCM_REG2_DATA), spm_read(PCM_REG3_DATA));
		spm_vcorefs_warn("PCM_REG_DATA_4~7       : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG4_DATA), spm_read(PCM_REG5_DATA),
								spm_read(PCM_REG6_DATA), spm_read(PCM_REG7_DATA));
		spm_vcorefs_warn("PCM_REG_DATA_8~11      : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG8_DATA), spm_read(PCM_REG9_DATA),
								spm_read(PCM_REG10_DATA), spm_read(PCM_REG11_DATA));
		spm_vcorefs_warn("PCM_REG_DATA_12~15     : 0x%x, 0x%x, 0x%x, 0x%x\n",
								spm_read(PCM_REG12_DATA), spm_read(PCM_REG13_DATA),
								spm_read(PCM_REG14_DATA), spm_read(PCM_REG15_DATA));
		spm_vcorefs_warn("PCM_IM_PTR             : 0x%x (%u)\n", spm_read(PCM_IM_PTR), spm_read(PCM_IM_LEN));

		/* debug */
		spm_vcorefs_warn("SPM_DVFS_DEBUG/1       : 0x%x, 0x%x\n",
								spm_read(SPM_DVFS_DEBUG), spm_read(SPM_DVFS_DEBUG1));
		spm_vcorefs_warn("SPM_DVFS_DEBUG2/3      : 0x%x, 0x%x\n",
								spm_read(SPM_DVFS_DEBUG2), spm_read(SPM_DVFS_DEBUG3));
		/* - setting - */
		spm_vcorefs_warn("SPM_DVFS_DEBOUNCE3     : 0x%x\n", spm_read(SPM_DVFS_DEBOUNCE3));
		spm_vcorefs_warn("BYPASS_MSDC_DVFS_HALT  : 0x%x\n", spm_read(BYPASS_MSDC_DVFS_HALT));

		spm_vcorefs_warn("SPM_MD_DVFS_INITIAL    : 0x%x\n", spm_read(SPM_MD_DVFS_INITIAL));
		spm_vcorefs_warn("SPM_MD_DVFS_INITIAL2   : 0x%x\n", spm_read(SPM_MD_DVFS_INITIAL));

		/* scenario config */
		spm_vcorefs_warn("SPM_DVFS_CNFG     : 0x%x\n", spm_read(SPM_DVFS_CNFG));
		/* -- MD policy -- */
		spm_vcorefs_warn("SPM_MD_DVFS_INIT[1]: 0x%8x, [2]: 0x%8x\n",
					spm_read(SPM_MD_DVFS_INITIAL), spm_read(SPM_MD_DVFS_INITIAL2));
		spm_vcorefs_warn("SPM_MD_DVFS_FLOOR[1]: 0x%8x, [2]: 0x%8x, [3]: 0x%8x, [4]: 0x%8x\n",
					spm_read(SPM_MD_DVFS_FLOOR), spm_read(SPM_MD_DVFS_FLOOR2),
					spm_read(SPM_MD_DVFS_FLOOR3), spm_read(SPM_MD_DVFS_FLOOR4));
		spm_vcorefs_warn("SPM_DVFS_INITIAL_MASK: 0x%x\n", spm_read(SPM_DVFS_INITIAL_MASK));
		spm_vcorefs_warn("SPM_DVFS_FLOOR_MASK1/2: 0x%x, 0x%x\n",
					spm_read(SPM_DVFS_FLOOR_MASK), spm_read(SPM_DVFS_FLOOR_MASK2));
		spm_vcorefs_warn("SPM_DVFS_FLOOR_MASK3/4: 0x%x, 0x%x\n",
					spm_read(SPM_DVFS_FLOOR_MASK3), spm_read(SPM_DVFS_FLOOR_MASK4));
		/* -- MD status -- */
		spm_vcorefs_warn("MD2SPM_DVFS_CON: 0x%x\n", spm_read(MD2SPM_DVFS_CON));
		spm_vcorefs_warn("SPM_AP_SCENARIO: 0x%x\n", spm_read(SPM_AP_SCENARIO));

		/* -- HD SW force -- */
		spm_vcorefs_warn("SPM_DVFS_FORCE: 0x%x\n", spm_read(SPM_DVFS_FORCE)); /* initial, floor, hd force */

		/* -- HPM* SW force -- */
		spm_vcorefs_warn("SPM_DVFS_INITIAL: 0x%x\n", spm_read(SPM_DVFS_INITIAL_SETTING));
		spm_vcorefs_warn("SPM_DVFS_SW_FLOOR0: 0x%x\n", spm_read(SPM_DVFS_SW_FLOOR0));
		spm_vcorefs_warn("SPM_DVFS_SW_FLOOR1: 0x%x\n", spm_read(SPM_DVFS_SW_FLOOR1));
		spm_vcorefs_warn("SPM_DVFS_SW_FLOOR2~4: 0x%x, 0x%x, 0x%x\n",
			spm_read(SPM_DVFS_SW_FLOOR2), spm_read(SPM_DVFS_SW_FLOOR3), spm_read(SPM_DVFS_SW_FLOOR4));
		spm_vcorefs_warn("SPM_DVFS_SW_FLOOR5~7: 0x%x, 0x%x, 0x%x\n",
			spm_read(SPM_DVFS_SW_FLOOR5), spm_read(SPM_DVFS_SW_FLOOR6), spm_read(SPM_DVFS_SW_FLOOR7));

		spm_vcorefs_warn("SPM_DVFS_CON: 0x%x\n", spm_read(SPM_DVFS_CON));
	}

	return p;
}

struct spm_setclr_reg {
	u32 id;
	char name[32];
	void __iomem	*set_addr;
	void __iomem	*clr_addr;
	void __iomem	*sta_addr;
};

#define CFG_SPM_SETCLR_REG(_id, _name, _set_addr, _clr_addr, _sta_addr) {	\
				.id = _id,					\
				.name = _name,					\
				.set_addr = _set_addr,				\
				.clr_addr = _clr_addr,				\
				.sta_addr = _sta_addr,				\
			}
enum vcorefs_setclr_reg_id {
	ID_SPM_DVFS_INITIAL_MASK = 0,
	ID_SPM_DVFS_FLOOR_MASK,
	ID_SPM_DVFS_FLOOR_MASK2,
	ID_SPM_DVFS_FLOOR_MASK3,
	ID_SPM_DVFS_FLOOR_MASK4,
	ID_SPM_DVFS_FORCE_MASK0,
	ID_SPM_DVFS_FORCE,
	ID_SETCLR_NUM,
};

static struct spm_setclr_reg vcorefs_setclr_regs[] = {
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_INITIAL_MASK, "SPM_DVFS_INITIAL_MASK", NULL, NULL, NULL),
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_FLOOR_MASK, "SPM_DVFS_FLOOR_MASK", NULL, NULL, NULL),
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_FLOOR_MASK2, "SPM_DVFS_FLOOR_MASK2", NULL, NULL, NULL),
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_FLOOR_MASK3, "SPM_DVFS_FLOOR_MASK3", NULL, NULL, NULL),
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_FLOOR_MASK4, "SPM_DVFS_FLOOR_MASK4", NULL, NULL, NULL),
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_FORCE_MASK0, "SPM_DVFS_FORCE_MASK0", NULL, NULL, NULL),
	CFG_SPM_SETCLR_REG(ID_SPM_DVFS_FORCE, "SPM_DVFS_FORCE", NULL, NULL, NULL),
};

void set_vcorefs_setclr_addr(int id, void __iomem *set_addr, void __iomem *clr_addr, void __iomem *sta_addr)
{
	vcorefs_setclr_regs[id].set_addr = set_addr;
	vcorefs_setclr_regs[id].clr_addr = clr_addr;
	vcorefs_setclr_regs[id].sta_addr = sta_addr;
}

void vcorefs_setclr_reg_init(void)
{
	set_vcorefs_setclr_addr(ID_SPM_DVFS_INITIAL_MASK,
			SPM_DVFS_INITIAL_MASK_SET, SPM_DVFS_INITIAL_MASK_CLR, SPM_DVFS_INITIAL_MASK);
	set_vcorefs_setclr_addr(ID_SPM_DVFS_FLOOR_MASK,
			SPM_DVFS_FLOOR_MASK_SET, SPM_DVFS_FLOOR_MASK_CLR, SPM_DVFS_FLOOR_MASK);
	set_vcorefs_setclr_addr(ID_SPM_DVFS_FLOOR_MASK2,
			SPM_DVFS_FLOOR_MASK2_SET, SPM_DVFS_FLOOR_MASK2_CLR, SPM_DVFS_FLOOR_MASK2);
	set_vcorefs_setclr_addr(ID_SPM_DVFS_FLOOR_MASK3,
			SPM_DVFS_FLOOR_MASK3_SET, SPM_DVFS_FLOOR_MASK3_CLR, SPM_DVFS_FLOOR_MASK3);
	set_vcorefs_setclr_addr(ID_SPM_DVFS_FLOOR_MASK4,
			SPM_DVFS_FLOOR_MASK4_SET, SPM_DVFS_FLOOR_MASK4_CLR, SPM_DVFS_FLOOR_MASK4);
	set_vcorefs_setclr_addr(ID_SPM_DVFS_FORCE_MASK0,
			SPM_DVFS_FORCE_MASK0_SET, SPM_DVFS_FORCE_MASK0_CLR, SPM_DVFS_FORCE_MASK0);
	set_vcorefs_setclr_addr(ID_SPM_DVFS_FORCE,
			SPM_DVFS_FORCE_SET, SPM_DVFS_FORCE_CLR, SPM_DVFS_FORCE);
}

#if defined(SPM_CONFIG_BY_KERNEL)

void vcorefs_spm_policy_init(void)
{
	/* SW kicker */
	spm_write(SPM_DVFS_FORCE, 0);
	spm_write(SPM_DVFS_INITIAL_SETTING, 0x90);
	spm_write(SPM_DVFS_SW_FLOOR0, 0);
	spm_write(SPM_DVFS_SW_FLOOR1, 0);
	spm_write(SPM_DVFS_SW_FLOOR2, 0);
	spm_write(SPM_DVFS_SW_FLOOR3, 0);
	spm_write(SPM_DVFS_SW_FLOOR4, 0);
	spm_write(SPM_DVFS_SW_FLOOR5, 0);
	spm_write(SPM_DVFS_SW_FLOOR6, 0);
	spm_write(SPM_DVFS_SW_FLOOR7, 0);

	/* MD policy */
	spm_write(SPM_MD_DVFS_FLOOR, 0x1B6DB6DB);
	spm_write(SPM_MD_DVFS_FLOOR2, 0x24000);
	spm_write(SPM_MD_DVFS_FLOOR3, 0);
	spm_write(SPM_MD_DVFS_FLOOR4, 0x40);
	spm_write(SPM_MD_DVFS_INITIAL, 0xF00F5555);
	spm_write(SPM_MD_DVFS_INITIAL2, 0);
	spm_write(SPM2MD_DVFS_CON, 0xFFFF);

	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK4].clr_addr, 0xFFFFFFFF);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK4].set_addr, 0xC3FF);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_INITIAL_MASK].clr_addr, 0xFFFFFFFF);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_INITIAL_MASK].set_addr, 0xC3FF);
	spm_write(SPM_AP_SCENARIO, 0xC3FF);

	/* Mask */
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FORCE_MASK0].clr_addr, 0xFFFFFFFF);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FORCE_MASK0].set_addr, 0x28);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK].clr_addr, 0xFFFFFFFF);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK].set_addr, 0xFC0);
	spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK2].clr_addr, 0xFFFFFFFF);

	spm_write(SPM_DVFS_CNFG, 0);

	/* debounce setting: */
	spm_write(SPM_DVFS_DEBOUNCE3, (spm_read(SPM_DVFS_DEBOUNCE3) & 0xffe00000) |
			SPM_DVFS_DEBOUNCE_SEL3_LSB | 0x8235);

	/* MSDC halt setting: by pass all */
	spm_write(BYPASS_MSDC_DVFS_HALT, 0xF);
}

void spm_set_kicker_opp(u32 opp, u32 type)
{
	u32 kicker_opp = opp;
	u32 dvfs_opp = opp;
	u32 floor_opp = opp;
	u32 set_val = 0;
	u32 clr_val = 0;

	spm_crit("set_kicker_opp(opp=0x%x, type=0x%x)\n", opp, type);
	if (type & (1 << KIR_GROUP_FIX)) {
		if (kicker_opp < SPM_NUM_OPP) {
			if (kicker_opp < SPM_OPP_3)
				set_val = 1 << (2 - kicker_opp);
			set_val |= 8;
			clr_val = ~set_val & 0xF;
		} else {
			set_val = 0;
			clr_val = 0xF;
		}
		spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FORCE].set_addr, (set_val << 8));
		spm_write(vcorefs_setclr_regs[ID_SPM_DVFS_FORCE].clr_addr, (clr_val << 8));
	}

	if (type & (1 << KIR_GROUP_HPM)) {
		if (dvfs_opp < SPM_NUM_OPP)
			set_val = 1 << (SPM_OPP_3-kicker_opp);
		else
			set_val = 0;
		spm_write(SPM_DVFS_SW_FLOOR0, (spm_read(SPM_DVFS_SW_FLOOR0) & ~(0xF)) | (set_val));
	}

	if (type & (1 << KIR_GROUP_HPM_NON_FORCE)) {
		if (dvfs_opp < SPM_NUM_OPP) {
			floor_opp = (dvfs_opp == (SPM_NUM_OPP-1)) ? dvfs_opp : dvfs_opp + 1;
			set_val = 1 << (SPM_OPP_3 - floor_opp);
		} else
			set_val = 0;
		spm_write(SPM_DVFS_SW_FLOOR1, (spm_read(SPM_DVFS_SW_FLOOR1) & ~(0xF)) | (set_val));
		if (dvfs_opp < SPM_NUM_OPP) {
			if (dvfs_opp < SPM_OPP_3)
				set_val = 1 << (2 - dvfs_opp);
			set_val |= 8;
		} else
			set_val = 0;
		spm_write(SPM_DVFS_INITIAL_SETTING,
			(spm_read(SPM_DVFS_INITIAL_SETTING) & ~(0xF << 4)) | (set_val << 4));
		spm_crit("init_opp=%d floor_opp=%d\n", dvfs_opp, floor_opp);
	}
}
#endif

void vcorefs_get_emi_bw_ctrl(void)
{
	u32 val;

	val = spm_read(SPM_DVFS_FORCE_MASK0);
	emi_bw_ctrl[BW_CG_H] = (val & 0x1 << 3) ? 1 : 0;
	val = spm_read(SPM_MD_DVFS_FLOOR4);
	emi_bw_ctrl[BW_CG_L] = (val & 0x1 << 6) ? 1 : 0;
	val = spm_read(SPM_DVFS_FLOOR_MASK);
	emi_bw_ctrl[BW_TOTAL_H] = (val & 0x1 << 6) ? 1 : 0;
	emi_bw_ctrl[BW_TOTAL_L] = (val & 0x1 << 7) ? 1 : 0;
	emi_bw_ctrl[BW_DFS2_H] = (val & 0x1 << 10) ? 1 : 0;
	emi_bw_ctrl[BW_DFS1_H] = (val & 0x1 << 8) ? 1 : 0;
	emi_bw_ctrl[BW_DFS2_L] = (val & 0x1 << 11) ? 1 : 0;
	emi_bw_ctrl[BW_DFS1_L] = (val & 0x1 << 9) ? 1 : 0;
}

int vcorefs_set_emi_bw_ctrl(int bw_ctrl_index, int enable)
{
	u32 val = 0;
	u32 offset = 0;
	unsigned long flags;

	if (bw_ctrl_index >= BW_NUM) {
		vcorefs_crit("bw_ctrl index (%d) out of range\n", bw_ctrl_index);
		return -1;
	}

	if (bw_ctrl_index == BW_CG_H) {
		val = (0x1 << 3);
		if (enable)
			offset = vcorefs_setclr_regs[ID_SPM_DVFS_FORCE_MASK0].set_addr - SPM_BASE;
		else
			offset = vcorefs_setclr_regs[ID_SPM_DVFS_FORCE_MASK0].clr_addr - SPM_BASE;
	} else if (bw_ctrl_index == BW_CG_L) {
		val = (spm_read(SPM_MD_DVFS_FLOOR4) & ~(0x1 << 6)) | (enable ? 0x1 << 6 : 0);
		offset = SPM_MD_DVFS_FLOOR4 - SPM_BASE;
	} else {
		if (bw_ctrl_index == BW_TOTAL_H)
			val = 0x1 << 6;
		else if (bw_ctrl_index == BW_TOTAL_L)
			val = 0x1 << 7;
		else if (bw_ctrl_index == BW_DFS2_H)
			val = 0x1 << 10;
		else if (bw_ctrl_index == BW_DFS1_H)
			val = 0x1 << 8;
		else if (bw_ctrl_index == BW_DFS2_L)
			val = 0x1 << 11;
		else if (bw_ctrl_index == BW_DFS1_L)
			val = 0x1 << 9;

		if (enable)
			offset = vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK].set_addr - SPM_BASE;
		else
			offset = vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK].clr_addr - SPM_BASE;
	}
	vcorefs_crit("set_emi_bw_ctrl(offset: 0x%x value: 0x%x)\n", offset, val);
	if (!offset) {
		vcorefs_crit("invalid offset value(0x%x)\n", offset);
		return -1;
	}

	spin_lock_irqsave(&__spm_lock, flags);
	mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_3, offset, val);
	spin_unlock_irqrestore(&__spm_lock, flags);

	return 0;
}

u32 spm_vcorefs_get_MD_status(void)
{
	return spm_read(MD2SPM_DVFS_CON);
}

static void spm_dvfsfw_init(int curr_opp)
{
	unsigned long flags;

	spin_lock_irqsave(&__spm_lock, flags);

	mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_0, curr_opp, ddr_type);

	spin_unlock_irqrestore(&__spm_lock, flags);

	spm_vcorefs_warn("[%s]DVFS_LEVEL: 0x%x, RSV_5: 0x%x curr_opp: %u\n",
			__func__, spm_read(DVFS_LEVEL), spm_read(SPM_SW_RSV_5), curr_opp);
}

void __spm_sync_vcore_dvfs_power_control(struct pwr_ctrl *dest_pwr_ctrl, const struct pwr_ctrl *src_pwr_ctrl)
{
	u32 dvfs_mask =  SPM_FLAG_DIS_VCORE_DVS | SPM_FLAG_DIS_VCORE_DFS;

	/* SPM_SRC_REQ */
	dest_pwr_ctrl->reg_spm_dvfs_level0_req = src_pwr_ctrl->reg_spm_dvfs_level0_req;
	dest_pwr_ctrl->reg_spm_dvfs_level1_req = src_pwr_ctrl->reg_spm_dvfs_level1_req;
	dest_pwr_ctrl->reg_spm_dvfs_level2_req = src_pwr_ctrl->reg_spm_dvfs_level2_req;
	dest_pwr_ctrl->reg_spm_dvfs_level3_req = src_pwr_ctrl->reg_spm_dvfs_level3_req;
	dest_pwr_ctrl->reg_spm_dvfs_level4_req = src_pwr_ctrl->reg_spm_dvfs_level4_req;

	/* SPM_SRC2_MASK */
	dest_pwr_ctrl->reg_next_dvfs_level0_mask_b = src_pwr_ctrl->reg_next_dvfs_level0_mask_b;
	dest_pwr_ctrl->reg_next_dvfs_level1_mask_b = src_pwr_ctrl->reg_next_dvfs_level1_mask_b;
	dest_pwr_ctrl->reg_next_dvfs_level2_mask_b = src_pwr_ctrl->reg_next_dvfs_level2_mask_b;
	dest_pwr_ctrl->reg_next_dvfs_level3_mask_b = src_pwr_ctrl->reg_next_dvfs_level3_mask_b;
	dest_pwr_ctrl->reg_next_dvfs_level4_mask_b = src_pwr_ctrl->reg_next_dvfs_level4_mask_b;

	dest_pwr_ctrl->pcm_flags = (dest_pwr_ctrl->pcm_flags & (~dvfs_mask)) |
					(src_pwr_ctrl->pcm_flags & dvfs_mask);

	if (dest_pwr_ctrl->pcm_flags_cust)
		dest_pwr_ctrl->pcm_flags_cust = (dest_pwr_ctrl->pcm_flags_cust & (~dvfs_mask)) |
						(src_pwr_ctrl->pcm_flags & dvfs_mask);
}

int spm_vcorefs_pwarp_cmd(void)
{
#ifndef CONFIG_MTK_TINYSYS_SSPM_SUPPORT
	/* PMIC_WRAP_PHASE_ALLINONE */
	mt_spm_pmic_wrap_set_cmd(PMIC_WRAP_PHASE_ALLINONE, CMD_9, get_vcore_ptp_volt(OPP_0));
	mt_spm_pmic_wrap_set_cmd(PMIC_WRAP_PHASE_ALLINONE, CMD_8, get_vcore_ptp_volt(OPP_1));

	mt_spm_pmic_wrap_set_phase(PMIC_WRAP_PHASE_ALLINONE);

	spm_vcorefs_warn(">>> spm_vcorefs_pwarp_cmd\n");
#else
	int ret;
	struct spm_data spm_d;

	memset(&spm_d, 0, sizeof(struct spm_data));


	spm_d.u.vcorefs.vcore_level0 = get_vcore_ptp_volt(OPP_0);
	spm_d.u.vcorefs.vcore_level1 = get_vcore_ptp_volt(OPP_1);

	ret = spm_to_sspm_command(SPM_VCORE_PWARP_CMD, &spm_d);
	if (ret < 0)
		spm_crit2("ret %d", ret);

	spm_vcorefs_warn("spm_vcorefs_pwarp_cmd: sspm (opp0:0x%x opp1:0x%x\n",
				get_vcore_ptp_volt(OPP_0),
				get_vcore_ptp_volt(OPP_1));
#endif
	return 0;
}

int spm_vcorefs_get_opp(void)
{
	unsigned long flags;
	u32 dvfs_level[SPM_NUM_OPP] = { 0x8, 0x4, 0x2, 0x1};
	int level;
	u32 val;

	if (is_vcorefs_can_work() == 1) {
		spin_lock_irqsave(&__spm_lock, flags);

		val = spm_read(SPM_SW_RSV_5);
		level = get_dvfs_level(val);

		if (level == dvfs_level[SPM_OPP_0])
			level = SPM_OPP_0;
		else if (level == dvfs_level[SPM_OPP_2])
			level = SPM_OPP_2;
		else if (level == dvfs_level[SPM_OPP_3])
			level = SPM_OPP_3;
		else
			level = SPM_OPP_1; /* 0x8(2ch), 0x4(4ch) */

		spin_unlock_irqrestore(&__spm_lock, flags);
	} else {
			level = BOOT_UP_OPP;
	}

	return level;
}

static int spm_trigger_dvfs(int kicker, int opp, int type)
{
	int r = 0;

#if 1
	/* check DVFS idle */
	r = _wait_spm_dvfs_idle(SPM_DVFS_TIMEOUT);
	if (r < 0) {
		spm_vcorefs_dump_dvfs_regs(NULL);
		/* aee_kernel_warning("SPM Warring", "Vcore DVFS timeout warning"); */
		return -1;
	}
#endif

#if defined(SPM_CONFIG_BY_KERNEL)
	spm_set_kicker_opp(opp, type);
#else
	/* apply DVFS config */
	mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_2, opp, type);
#endif
	if (type & (1 << KIR_GROUP_FIX))
		opp = opp >> 8 & 0xf;
	else
		opp = opp & 0xf;

#if 1
	if (opp == 0xf)
		opp = LATE_INIT_OPP;

	if ((type & (1 << KIR_GROUP_HPM_NON_FORCE)) && (opp < SPM_OPP_2))
		opp = opp + 1;

	/* check DVFS timer */
	if (type & (1 << KIR_GROUP_FIX))
		r = _wait_spm_dvfs_complete_fix(opp, SPM_DVFS_TIMEOUT);
	else if (type & (1 << KIR_GROUP_HPM) || type & (1 << KIR_GROUP_HPM_NON_FORCE))
		r = _wait_spm_dvfs_complete_floor(opp, SPM_DVFS_TIMEOUT);

	if (r < 0) {
		spm_vcorefs_dump_dvfs_regs(NULL);
		/* aee_kernel_warning("SPM Warring", "Vcore DVFS timeout warning"); */
		return -1;
	}
#endif
	vcorefs_crit_mask(log_mask(), kicker, "[%s] type: %d, opp: %d, DVFS_LEVEL: 0x%x r:%d\n",
				__func__, type, opp, spm_read(DVFS_LEVEL), r);
	vcorefs_crit_mask(log_mask(), kicker, "RSV_5: 0x%x, R15: 0x%x\n",
				spm_read(SPM_SW_RSV_5), spm_read(PCM_REG15_DATA));
	return 0;
}

int spm_dvfs_flag_init(void)
{
	int flag = SPM_FLAG_RUN_COMMON_SCENARIO;

	if (!vcorefs_vcore_dvs_en())
		flag |= SPM_FLAG_DIS_VCORE_DVS;
	if (!vcorefs_dram_dfs_en())
		flag |= SPM_FLAG_DIS_VCORE_DFS;
	if (!vcorefs_mm_clk_en())
		flag |= SPM_FLAG_DIS_DVFS_MMPLL_SET;

	/* flag = SPM_FLAG_RUN_COMMON_SCENARIO |
	 *	    SPM_FLAG_DIS_VCORE_DVS | SPM_FLAG_DIS_VCORE_DFS | SPM_FLAG_DIS_DVFS_MMPLL_SET;
	 */

	return flag;
}


static void spm_check_status_before_dvfs(void)
{
	int flag;


	if (spm_read(PCM_REG15_DATA) != 0x0)
		return;

	spm_vcorefs_warn("[reload FW]before\n");
	spm_vcorefs_dump_dvfs_regs(NULL);
	vcorefs_get_sram_debug_info(NULL);

	flag = spm_dvfs_flag_init();

	spm_dvfsfw_init(spm_vcorefs_get_opp());

	spm_go_to_vcorefs(flag);

	spm_vcorefs_warn("[reload FW]after\n");
	spm_vcorefs_dump_dvfs_regs(NULL);
	vcorefs_get_sram_debug_info(NULL);

}

int spm_set_vcore_dvfs(struct kicker_config *krconf)
{
	unsigned long flags;
	int r = 0;
	u32 req_type = (1U << (spm_vcorefs_get_kicker_group(krconf->kicker)));
	int opp = 0;

	if (krconf->dvfs_opp == OPP_UNREQ)
		krconf->dvfs_opp = 0xf;

	if (krconf->opp == OPP_UNREQ)
		krconf->opp = 0xf;

	opp = krconf->dvfs_opp;
	opp |= krconf->opp << 8;

	spm_check_status_before_dvfs();

	spm_vcorefs_footprint(SPM_VCOREFS_ENTER);

	spin_lock_irqsave(&__spm_lock, flags);

	spm_vcorefs_footprint(SPM_VCOREFS_DVFS_START);

	r = spm_trigger_dvfs(krconf->kicker, opp, req_type);

	spm_vcorefs_footprint(SPM_VCOREFS_DVFS_END);

	spm_vcorefs_footprint(SPM_VCOREFS_LEAVE);

	spin_unlock_irqrestore(&__spm_lock, flags);

	spm_vcorefs_footprint(0);

	if (krconf->dvfs_opp == 0xf)
		krconf->dvfs_opp = OPP_UNREQ;

	if (krconf->opp == 0xf)
		krconf->opp = OPP_UNREQ;

	return r;
}

void spm_go_to_vcorefs(int spm_flags)
{
	unsigned long flags;

	spm_vcorefs_warn("pcm_flag: 0x%x\n", spm_flags);

	spin_lock_irqsave(&__spm_lock, flags);

	mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_1, spm_flags, ddr_type);

	spin_unlock_irqrestore(&__spm_lock, flags);

	/* C+G default disable */
	vcorefs_set_emi_bw_ctrl(0, 0);
	vcorefs_set_emi_bw_ctrl(1, 0);

	spm_vcorefs_warn("[%s] done\n", __func__);
}

static void plat_info_init(void)
{
	spm_vcorefs_warn("plat_info_init\n");
}

void spm_vcorefs_md_scenario_update(bool suspend)
{
	u32 val;
	u32 offset;

	if (suspend)
		offset = vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK4].clr_addr - SPM_BASE;
	else
		offset = vcorefs_setclr_regs[ID_SPM_DVFS_FLOOR_MASK4].set_addr - SPM_BASE;

	val = 0xff; /* bit 0~7 */

	mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_3, offset, val);
}

void spm_vcorefs_init(void)
{
	int flag;

	ddr_type = get_ddr_type();
	vcorefs_module_init();
	plat_info_init();
	vcorefs_clk_init();
	vcorefs_sram_init();
	vcorefs_setclr_reg_init();
#if defined(SPM_CONFIG_BY_KERNEL)
	vcorefs_spm_policy_init();
#endif

#if 1
	mtk_rgu_cfg_dvfsrc(1);
#endif

	if (!spm_load_firmware_status()) {
		spm_vcorefs_warn("[%s] SPM FIRMWARE IS NOT READY\n", __func__);
		return;
	}

	vcorefs_init_opp_table();
	spm_dvfsfw_init(BOOT_UP_OPP);
	if (is_vcorefs_feature_enable()) {
		flag = spm_dvfs_flag_init();
		spm_go_to_vcorefs(flag);
		vcorefs_late_init_dvfs();
		spm_vcorefs_warn("[%s] DONE\n", __func__);
	} else {
		spm_vcorefs_warn("[%s] VCORE DVFS IS DISABLE\n", __func__);
	}
}

void spm_prepare_mm_clk(int enable)
{
	u32 val;
	u32 offset;
	unsigned long flags;

	if (enable) {
		offset = SPM_DVFS_CNFG - SPM_BASE;
		val = (spm_read(SPM_DVFS_CNFG) & ~(0xF << 8)) | (0x11 << 8);
		spin_lock_irqsave(&__spm_lock, flags);
		mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_3, offset, val);
		spin_unlock_irqrestore(&__spm_lock, flags);
		val = val & ~(0x1<<12);
		spin_lock_irqsave(&__spm_lock, flags);
		mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_3, offset, val);
		spin_unlock_irqrestore(&__spm_lock, flags);
		val = spm_read(vcorefs_cksys_base+0x404);
		spm_write(vcorefs_cksys_base+0x404, val|0x1<<12);
		spm_crit("prepare CLK_SCP_CFG_0 = 0x%x\n", spm_read(vcorefs_cksys_base+0x404));
	}
}

u32 spm_vcorefs_get_md_srcclkena(void)
{
	return spm_read(PCM_REG13_DATA) & R13_MD_SRCCLKENA_0;
}

void spm_request_dvfs_opp(int id, enum dvfs_opp opp)
{
	u32 val;
	u32 offset = SPM_DVFS_SW_FLOOR3 - SPM_BASE;
	unsigned long flags;

	if (opp < 0 || opp >= NUM_OPP)
		val = 0;
	else
		val = 1 << (SPM_OPP_3 - opp);

	switch (id) {
	case 0: /* ZQTX */
		spin_lock_irqsave(&__spm_lock, flags);
		mt_secure_call(MTK_SIP_KERNEL_SPM_VCOREFS_ARGS, VCOREFS_SMC_CMD_3, offset, val);
		spin_unlock_irqrestore(&__spm_lock, flags);
		/* spm_vcorefs_warn("DRAM ZQTX tracking request: %d\n", opp); */
	break;
	default:
	break;
	}
}

/* met profile table */
u32 met_vcorefs_info[INFO_MAX];
u32 met_vcorefs_src[SRC_MAX];

char *met_info_name[INFO_MAX] = {
		"OPP",
		"SW_RSV5",
		"DVFS_LEVEL",
		"DVFS_DEBUG",
		"DVFS_FM3",
		"OPP10_CNT",
		"OPP01_CNT",
		"OPP21_CNT",
		"OPP12_CNT",
};

char *met_src_name[SRC_MAX] = {
		"MD2SPM",
		"MD_OPP",
		"SCP_BOOST",
		"BW_CG_H",
		"BW_CG_L",
		"BW_TOTAL_H",
		"BW_TOTAL_L",
		"BW_DFS2_H",
		"BW_DFS1_H",
		"BW_DFS2_L",
		"BW_DFS1_L",
};

/* met profile function */
int vcorefs_get_opp_info_num(void)
{
	return INFO_MAX;
}

int vcorefs_get_src_req_num(void)
{
	return SRC_MAX;
}

char **vcorefs_get_opp_info_name(void)
{
	return met_info_name;
}

char **vcorefs_get_src_req_name(void)
{
	return met_src_name;
}

unsigned int *vcorefs_get_opp_info(void)
{
	int i, count;

	met_vcorefs_info[INFO_OPP_IDX] = vcorefs_get_hw_opp();
	met_vcorefs_info[INFO_SW_RSV5_IDX] = spm_read(SPM_SW_RSV_5);
	met_vcorefs_info[INFO_DVFS_LEVEL_IDX] = spm_read(DVFS_LEVEL);
	met_vcorefs_info[INFO_DVFS_DEBUG_IDX] = spm_read(SPM_DVFS_DEBUG);
	met_vcorefs_info[INFO_DVFS_FLOOR_MASK3_IDX] = spm_read(SPM_DVFS_FLOOR_MASK3);
	count = INFO_OPP10_CNT_IDX;
	for (i = 0; i < VCOREFS_SRAM_DEBUG_COUNT; i++)
		met_vcorefs_info[count++] = vcorefs_get_sram_data(i);

	return met_vcorefs_info;
}

unsigned int *vcorefs_get_src_req(void)
{
	u32 reg;

	met_vcorefs_src[SRC_MD2SPM_IDX] = spm_read(MD2SPM_DVFS_CON);
	reg = (spm_read(SPM_DVFS_DEBUG) >> 14) & 0x7;
	reg = (SPM_NUM_OPP - reg);
	if (reg != 0)
		reg -= 1;
	met_vcorefs_src[SRC_MD_OPP_IDX] = reg;
	met_vcorefs_src[SRC_SCP_BOOST_IDX] = (spm_read(SPM_DVFS_DEBUG2) >> 7) & 0x1;

	vcorefs_get_emi_bw_ctrl();

	reg = spm_read(SPM_DVFS_DEBUG1);

	met_vcorefs_src[SRC_BW_CG_H_IDX] = (emi_bw_ctrl[BW_CG_H]) ? ((reg >> 1) & 0x1) : -1;
	met_vcorefs_src[SRC_BW_CG_L_IDX] = (emi_bw_ctrl[BW_CG_L]) ? ((reg >> 5) & 0x1) : -1;
	met_vcorefs_src[SRC_BW_TOTAL_H_IDX] = (emi_bw_ctrl[BW_TOTAL_H]) ? (reg & 0x1) : -1;
	met_vcorefs_src[SRC_BW_TOTAL_L_IDX] = (emi_bw_ctrl[BW_TOTAL_L]) ? ((reg >> 4) & 0x1) : -1;
	met_vcorefs_src[SRC_BW_DFS2_H_IDX] = (emi_bw_ctrl[BW_DFS2_H]) ? ((reg >> 3) & 0x1) : -1;
	met_vcorefs_src[SRC_BW_DFS1_H_IDX] = (emi_bw_ctrl[BW_DFS1_H]) ? ((reg >> 2) & 0x1) : -1;
	met_vcorefs_src[SRC_BW_DFS2_L_IDX] = (emi_bw_ctrl[BW_DFS2_L]) ? ((reg >> 7) & 0x1) : -1;
	met_vcorefs_src[SRC_BW_DFS1_L_IDX] = (emi_bw_ctrl[BW_DFS1_L]) ? ((reg >> 6) & 0x1) : -1;

	return met_vcorefs_src;
}
MODULE_DESCRIPTION("SPM VCORE-DVFS DRIVER");
